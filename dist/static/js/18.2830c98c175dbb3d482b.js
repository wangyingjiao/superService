webpackJsonp([18],{"1i83":function(t,e,a){var n=a("Z/Ur");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("052758d6",n,!0)},"Z/Ur":function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".allmap[data-v-41f281e9]{margin-top:80px;width:100%}.mapButton[data-v-41f281e9]{width:80px;height:25px;line-height:25px;color:#fff;text-align:center;font-size:12px;border:none;border-radius:0;outline:none;background:#4c70e8;cursor:pointer}.mapButton[data-v-41f281e9]:hover{background:#6d8dfc}.mapWrap[data-v-41f281e9]{width:70%;height:500px;float:left}.buttonWrap[data-v-41f281e9]{position:absolute;z-index:9999;bottom:10%;right:35%}.pickerBox[data-v-41f281e9]{float:left;width:30%;height:500px;background:#fff;border-left:1px dashed #ccc;font-size:12px}.headerWrap[data-v-41f281e9]{border-bottom:1px dashed #ccc;padding:10px 5px}.overlay-number[data-v-41f281e9]{display:inline-block;width:30px;text-align:center;color:red}.bottomContent[data-v-41f281e9]{padding:20px 5px}.el-table th>.cell[data-v-41f281e9]{font-size:12px}.pickerInput[data-v-41f281e9]{width:150px;padding:5px}","",{version:3,sources:["D:/demo/backendservice/src/views/clean/returnvisit.vue"],names:[],mappings:"AACA,yBACE,gBAAgB,AAChB,UAAW,CACZ,AACD,4BACE,WAAW,AACX,YAAa,AACb,iBAAiB,AACjB,WAAW,AACX,kBAAkB,AAClB,eAAe,AACf,YAAY,AACZ,gBAAkB,AAClB,aAAa,AACb,mBAAoB,AACpB,cAAgB,CACjB,AACD,kCACE,kBAAoB,CACrB,AACD,0BACE,UAAU,AACV,aAAa,AACb,UAAW,CACZ,AACD,6BACE,kBAAmB,AACnB,aAAc,AACd,WAAW,AACX,SAAU,CACX,AACD,4BACE,WAAW,AACL,UAAW,AACjB,aAAa,AACb,gBAAgB,AAChB,4BAA4B,AAC5B,cAAe,CAChB,AACD,6BACE,8BAA8B,AAC9B,gBAAiB,CAClB,AACD,iCACE,qBAAqB,AACrB,WAAW,AACX,kBAAkB,AAClB,SAAU,CACX,AACD,gCACE,gBAAiB,CAClB,AACD,oCACE,cAAe,CAChB,AACD,8BACE,YAAa,AACb,WAAiB,CAClB",file:"returnvisit.vue",sourcesContent:["\n.allmap[data-v-41f281e9]{\n\t\tmargin-top:80px;\n\t\twidth:100%;\n}\n.mapButton[data-v-41f281e9]{\n\t\twidth:80px;\n\t\theight: 25px;\n\t\tline-height:25px;\n\t\tcolor:#fff;\n\t\ttext-align:center;\n\t\tfont-size:12px;\n\t\tborder:none;\n\t\tborder-radius:0px;\n\t\toutline:none;\n\t\tbackground: #4c70e8;\n\t\tcursor: pointer;\n}\n.mapButton[data-v-41f281e9]:hover{\n\t\tbackground: #6d8dfc;\n}\n.mapWrap[data-v-41f281e9]{\n\t\twidth:70%;\n\t\theight:500px;\n\t\tfloat:left;\n}\n.buttonWrap[data-v-41f281e9]{\n\t\tposition: absolute;\n\t\tz-index: 9999;\n\t\tbottom:10%;\n\t\tright:35%;\n}\n.pickerBox[data-v-41f281e9] {\n\t\tfloat:left;\n        width: 30%;\n\t\theight:500px;\n\t\tbackground:#fff;\n\t\tborder-left:1px dashed #ccc;\n\t\tfont-size:12px;\n}\n.headerWrap[data-v-41f281e9]{\n\t\tborder-bottom:1px dashed #ccc;\n\t\tpadding:10px 5px;\n}\n.overlay-number[data-v-41f281e9]{\n\t\tdisplay:inline-block;\n\t\twidth:30px;\n\t\ttext-align:center;\n\t\tcolor:red;\n}\n.bottomContent[data-v-41f281e9]{\n\t\tpadding:20px 5px;\n}\n.el-table th>.cell[data-v-41f281e9]{\n\t\tfont-size:12px;\n}\n.pickerInput[data-v-41f281e9] {\n\t\twidth: 150px;\n\t\tpadding: 5px 5px;\n}\t\t\t\n"],sourceRoot:""}])},b6LW:function(t,e,a){"use strict";function n(t){a("1i83")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("ii9V"),o=a("u59X"),r=a("VU/8"),l=n,s=r(i.a,o.a,l,"data-v-41f281e9",null);e.default=s.exports},ii9V:function(t,e,a){"use strict";e.a={data:function(){return{severSelectdialogVisible:!1,inputvalue:[],myMap:{},number:"0",tableData:[],index:0,promitInf:"",showPromit:!1}},mounted:function(){},methods:{showdialog:function(){var t=this;this.severSelectdialogVisible=!0,this.$nextTick(function(){t.initMap1()})},initMap1:function(){function t(t){window.poiPicker=t;var a=new AMap.Marker,o=new AMap.InfoWindow({offset:new AMap.Pixel(0,-20)});t.on("poiPicked",function(t){var r=t.source,l=t.item,s={source:r,id:l.id,district:l.district,name:l.name,location:l.location.toString(),address:l.address};n.value=s.district+s.name,e.inputvalue.push(s.location),a.setMap(i),o.setMap(i),a.setPosition(l.location),o.setPosition(l.location),o.setContent(n.value),o.open(i,a.getPosition())})}var e=this,a=this.$refs.gdMap,n=this.$refs.pickerInput,i=new AMap.Map(a,{center:new AMap.LngLat(116.368904,39.913423),zoom:15});i.plugin(["AMap.Scale"],function(){var t=new AMap.Scale;i.addControl(t)}),i.plugin(["AMap.ToolBar"],function(){var t=new AMap.ToolBar;i.addControl(t)}),e.myMap=i;var o={strokeColor:"blue",fillColor:"blue",strokeWeight:1,strokeOpacity:.1,fillOpacity:.3,strokeStyle:"solid"},r=new AMap.MouseTool(i),l=this.$refs.polygon,s=this.$refs.circle;AMap.event.addDomListener(l,"click",function(){r.polygon(o)},!1),AMap.event.addDomListener(s,"click",function(){r.circle(o)},!1),AMap.event.addListener(r,"draw",function(t){var a=t.obj;e.index++,e.testalert(a,e.index)}),AMapUI.loadUI(["misc/PoiPicker"],function(e){t(new e({city:"北京",input:n}))})},testalert:function(t,e){var a="",n="",i={},o=this.myMap.getAllOverlays();"AMap.Polygon"===t.CLASS_NAME&&(a=t.getPath(),i.type="Polygon",i.path=a,i.radius="---",i.center=""),"AMap.Circle"===t.CLASS_NAME&&(n=t.getRadius(),i.type="Circle",i.radius=(1e3*n).toFixed(3)+"公里",i.path="",i.center=t.getCenter()),i.index="范围"+e,i.id=t._amap_id,this.tableData.push(i),this.number=o.length},removeOverlay:function(){var t=this.myMap.getAllOverlays();this.tableData=[],this.myMap.remove(t),this.number="0",this.index=0},Delete:function(t){for(var e=this.myMap.getAllOverlays(),a=0;a<e.length;a++)e[a]._amap_id==t.id&&this.myMap.remove(e[a]);for(var n=0;n<this.tableData.length;n++)e[n]._amap_id==t.id&&this.tableData.del(n);this.number>0?this.number=this.number-1:this.number=0},saveOverlays:function(){""==this.tableData?(this.promitInf="请选择一个服务区域",this.showPromit=!0):this.tableData.length>1?(this.promitInf="只能选择一个服务区域",this.showPromit=!0):(this.promitInf="",this.showPromit=!1)},closeMap:function(){this.tableData=[],this.number="0",this.index=0,this.promitInf="",this.showPromit=!1,this.severSelectdialogVisible=!1}}}},u59X:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"allmap"},[a("button",{attrs:{type:"type"},on:{click:t.showdialog}},[t._v("打开地图")]),t._v(" "),a("el-dialog",{attrs:{title:"服务范围选择",visible:t.severSelectdialogVisible,width:"100%",size:"full","show-close":!1},on:{"update:visible":function(e){t.severSelectdialogVisible=e}}},[a("div",{ref:"gdMap",staticClass:"mapWrap"}),t._v(" "),a("div",{staticClass:"buttonWrap"},[a("input",{ref:"polygon",staticClass:"mapButton",attrs:{type:"button",value:"绘制多边形"}}),t._v(" "),a("input",{ref:"circle",staticClass:"mapButton",attrs:{type:"button",value:"绘制圆"}}),t._v(" "),a("button",{staticClass:"mapButton",attrs:{type:"button"},on:{click:t.saveOverlays}},[t._v("保存")]),t._v(" "),a("button",{staticClass:"mapButton",on:{click:t.closeMap}},[t._v("关闭")])]),t._v(" "),a("div",{staticClass:"pickerBox"},[a("div",{staticClass:"headerWrap"},[a("h3",[t._v("服务范围信息"),t.showPromit?a("span",{staticStyle:{color:"red","margin-left":"30px"}},[t._v(t._s(t.promitInf))]):t._e()]),t._v(" "),a("div",{staticStyle:{height:"25px","line-height":"25px","margin-top":"10px"}},[a("span",{staticStyle:{display:"inline-block"}},[t._v("服务范围个数:")]),a("span",{staticClass:"overlay-number"},[t._v(t._s(t.number))]),a("span",{staticStyle:{display:"inline-block","margin-left":"20px",color:"blue",cursor:"pointer"},on:{click:t.removeOverlay}},[t._v("全部删除")])])]),t._v(" "),a("div",{staticClass:"bottomContent"},[a("p",[t._v("请输入地址:"),a("input",{ref:"pickerInput",staticClass:"pickerInput",attrs:{value:"",placeholder:"输入关键字选取地点"}})]),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":"250"}},[a("el-table-column",{attrs:{label:"服务范围",align:"center",width:"120",prop:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"radius",align:"center",width:"160",label:"圆形半径"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"button"},on:{click:function(a){t.Delete(e.row)}}},[t._v("删除")])]}}])})],1)],1)])])])],1)},i=[],o={render:n,staticRenderFns:i};e.a=o}});
//# sourceMappingURL=18.2830c98c175dbb3d482b.js.map