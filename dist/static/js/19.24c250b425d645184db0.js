webpackJsonp([19],{"326C":function(e,t,a){"use strict";function r(e){a("Jnrf")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("X+SR"),i=a("W991"),n=a("J0+h"),o=r,c=n(s.a,i.a,o,"data-v-3c449e8c",null);t.default=c.exports},FWz8:function(e,t,a){"use strict";function r(e,t,a){return D.a.post("/apiservice/a/service/order/orderInfo/listData?pageNo="+t+"&pageSize="+a,e)}function s(e){return D.a.post("/apiservice/a/service/order/orderInfo/formData",e)}function i(e){return D.a.post("/apiservice/a/service/order/orderInfo/timeDataList",e)}function n(e){return D.a.post("/apiservice/a/service/order/orderInfo/saveTime",e)}function o(e){return D.a.post("/apiservice/a/service/order/orderInfo/addTech",e)}function c(e){return D.a.post("/apiservice/a/service/order/orderInfo/addTechSave",e)}function l(e){return D.a.post("/apiservice/a/service/order/orderInfo/dispatchTech",e)}function d(e){return D.a.post("/apiservice/a/service/order/orderInfo/dispatchTechSave",e)}function u(e,t,a){return D.a.post("apiservice/a/service/order/orderDispatch/listData?pageNo="+t+"&pageSize="+a,e)}function p(e){return D.a.post("apiservice/a/service/order/orderDispatch/formData",e)}function h(e){return D.a.post("apiservice/a/service/order/orderDispatch/dispatchTech",e)}function v(e){return D.a.post("/apiservice/a/service/order/orderDispatch/dispatchTechSave",e)}function m(e){return D.a.post("/apiservice/a/service/order/orderInfo/findCustomerByPhone",e)}function f(e){return D.a.post("/apiservice/a/service/order/orderInfo/findCustomerById",e)}function g(e){return D.a.post("/apiservice/a/service/order/orderInfo/findItemList",e)}function y(e){return D.a.post("/apiservice/a/service/order/orderInfo/findGoodsListByItem",e)}function _(e){return D.a.post("/apiservice/a/service/order/orderInfo/findTechListByGoods",e)}function b(e){return D.a.post("/apiservice/a/service/order/orderInfo/findTimeListByTech",e)}function T(e){return D.a.post("/apiservice/a/service/order/orderInfo/createOrder",e)}function w(e){return D.a.post("/apiservice/a/service/order/orderInfo/findGoodsNeedTech",e)}function S(e){return D.a.post("/apiservice/a/service/order/orderInfo/orderCancel",e)}t.a=r,t.b=s,t.i=i,t.c=n,t.d=o,t.f=c,t.e=l,t.g=d,t.l=u,t.m=p,t.j=h,t.k=v,t.p=m,t.r=f,t.q=g,t.s=y,t.t=_,t.o=b,t.u=T,t.n=w,t.h=S;var D=a("Vo7i")},Jnrf:function(e,t,a){var r=a("KoJg");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("XkoO")("43fe0e4f",r,!0)},KoJg:function(e,t,a){t=e.exports=a("acE3")(!1),t.push([e.i,".selfToolTip[data-v-3c449e8c]{width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.addorder-container[data-v-3c449e8c]{width:100%;float:left;background:#eef1f6}.width200[data-v-3c449e8c]{width:200px}.floatRight[data-v-3c449e8c]{float:right}.fist-bar[data-v-3c449e8c]{background:#fff;border-bottom:1px solid #eee}.second-input[data-v-3c449e8c]{margin-top:10px}.orderMangeWarp[data-v-3c449e8c]{background:#fff;padding:20px}.exprotStyle[data-v-3c449e8c]{float:right;margin-bottom:10px}.ordermanageTableWrap[data-v-3c449e8c]{width:100%;background:#fff;padding:20px 0 46px}.ordermanagePagination[data-v-3c449e8c]{margin-top:20px;float:right}",""])},W991:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addorder-container"},[a("div",{staticClass:"fist-bar"},[a("el-tabs",{staticClass:"orderTab",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.orderTest,function(e,t,r){return a("el-tab-pane",{key:r,attrs:{label:e,name:t}})})),e._v(" "),a("div",{staticClass:"searchs"},[a("el-input",{staticClass:"search",attrs:{placeholder:"请输入订单编号"},model:{value:e.orderNumber,callback:function(t){e.orderNumber=t},expression:"orderNumber"}}),e._v(" "),a("el-select",{staticClass:"search",attrs:{clearable:"",filterable:"",placeholder:"选择机构"},on:{change:e.orgChange},model:{value:e.mechanism,callback:function(t){e.mechanism=t},expression:"mechanism"}},e._l(e.mechanismOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{staticClass:"search",attrs:{clearable:"",filterable:"",placeholder:"选择服务站"},model:{value:e.payType,callback:function(t){e.payType=t},expression:"payType"}},e._l(e.payTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{staticClass:"search",attrs:{clearable:"",placeholder:"请选择服务状态"},model:{value:e.sevicerStustas,callback:function(t){e.sevicerStustas=t},expression:"sevicerStustas"}},e._l(e.sevicerStustasOptions,function(e,t,r){return a("el-option",{key:r,attrs:{label:e,value:t}})})),e._v(" "),a("button",{staticClass:"search-button floatRight btn_search btn-color",attrs:{type:"button"},on:{click:e.localSearch}},[a("i",{staticClass:"el-icon-search"}),e._v(" 搜索")]),e._v(" "),a("div",{staticClass:"second-input"},[a("el-date-picker",{staticClass:"search",staticStyle:{width:"20%"},attrs:{type:"daterange",placeholder:"选择下单时间"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("el-date-picker",{staticClass:"search",staticStyle:{width:"20%"},attrs:{type:"daterange",placeholder:"选择服务时间"},model:{value:e.severTime,callback:function(t){e.severTime=t},expression:"severTime"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"orderMangeWarp"},[a("div",{staticClass:"ordermanageTableWrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tabDataList,fixed:"","element-loading-text":"正在加载","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",width:"180",label:"订单编号",prop:"orderNumber"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"220",label:"服务机构",prop:"orgName"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"服务站",prop:"stationName"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"订单来源"},scopedSlots:e._u([{key:"default",fn:function(t){return["own"==t.row.orderSource?a("span",[e._v("本机构")]):e._e(),e._v(" "),"gasq"==t.row.orderSource?a("span",[e._v("国安社区")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"服务内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{placement:"left",disabled:t.row.orderContent.length<11,content:t.row.orderContent}},[a("div",{staticClass:"selfToolTip"},[e._v(e._s(t.row.orderContent))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"付款价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("￥"+e._s(t.row.payPrice))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"服务时间",prop:"serviceTime"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"服务状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["wait_service"==t.row.serviceStatus?a("span",[e._v("待服务")]):e._e(),e._v(" "),"started"==t.row.serviceStatus?a("span",[e._v("已上门")]):e._e(),e._v(" "),"finish"==t.row.serviceStatus?a("span",[e._v("已完成")]):e._e(),e._v(" "),"cancel"==t.row.serviceStatus?a("span",[e._v("已取消")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["cancel"==t.row.orderStatus?a("span",[e._v("已取消")]):e._e(),e._v(" "),"dispatched"==t.row.orderStatus?a("span",[e._v("已派单")]):e._e(),e._v(" "),"finish"==t.row.orderStatus?a("span",[e._v("已完成")]):e._e(),e._v(" "),"stop"==t.row.orderStatus?a("span",[e._v("已暂停")]):e._e(),e._v(" "),"success"==t.row.orderStatus?a("span",[e._v("已成功")]):e._e(),e._v(" "),"waitdispatch"==t.row.orderStatus?a("span",[e._v("待派单")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"对接订单ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0!=t.row.jointOrderId?a("el-tooltip",{attrs:{placement:"left",disabled:t.row.jointOrderId.length<20,content:t.row.jointOrderId}},[a("div",{staticClass:"selfToolTip"},[e._v(e._s(t.row.jointOrderId))])]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"下单时间",prop:"orderTime"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.btnShow.indexOf("order_info")>-1?a("el-button",{staticClass:"ceshi3",attrs:{type:"button"},on:{click:function(a){e.lookInf(t.row.id)}}},[e._v("查看")]):e._e()]}}])})],1),e._v(" "),e.listLoading?e._e():a("div",{staticClass:"ordermanagePagination"},[a("el-pagination",{attrs:{"current-page":e.jumpPage,"page-sizes":[5,10,15,20],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.jumpPage=t}}})],1)],1)])])},s=[],i={render:r,staticRenderFns:s};t.a=i},"X+SR":function(e,t,a){"use strict";var r=a("FWz8"),s=a("oppB"),i=a("xT6B");t.a={name:"ordermanage",data:function(){return{btnShow:JSON.parse(localStorage.getItem("btn")),severTime:"",severEndTime:"",dict:a("fIj0"),payTypeOptions:[],orderTest:[],payType:"",payStusOptions:[],payStus:"",mechanismOptions:[],mechanism:"",sevicerStustasOptions:[],sevicerStustas:"",searchCon:"",customerName:"",customerPhone:"",orderNumber:"",orderContent:"",activeName:"dispatched",startTime:"",endTime:"",tabDataList:[],size:10,total:null,jumpPage:1,pageNumber:1,listLoading:!1,active1:""}},methods:{orgChange:function(e){var t=this;if(this.payType="",this.payTypeOptions=[],""!=e){var r={orgId:e};a.i(s.g)(r).then(function(e){1===e.data.code&&(0==e.data.data[0].id&&e.data.data.remove(e.data.data[0]),t.payTypeOptions=e.data.data)})}},getTableData:function(e,t,s){var i=this;this.listLoading=!0;var n=e;a.i(r.a)(n,t,s).then(function(e){if(1===e.data.code){i.total=e.data.data.page.count,i.tabDataList=e.data.data.page.list,i.pageNumber=e.data.data.page.pageNo,i.jumpPage=e.data.data.page.pageNo,i.size=e.data.data.page.pageSize;for(var t=0;t<e.data.data.orgList.length;t++)0==e.data.data.orgList[t].id&&e.data.data.orgList.remove(e.data.data.orgList[t]);i.mechanismOptions=e.data.data.orgList,i.listLoading=!1}else i.listLoading=!1}).catch(function(e){i.listLoading=!1})},handleClick:function(e,t){this.activeName=e.name,"whole"==e.name?this.active1="":this.active1=e.name,this.payStus="",this.mechanism="",this.payType="",this.sevicerStustas="",this.orderNumber="",this.startTime="",this.endTime="",this.severTime="",this.severEndTime="";var a={orderStatus:this.active1};this.pageNumber=1,this.jumpPage=1,this.getTableData(a,this.pageNumber,this.size)},localSearch:function(){if(this.severTime[0])var e=i.a.formatDate.format(new Date(this.severTime[0]),"yyyy-MM-dd hh:mm:ss");else e=null;if(this.severTime[1])var t=i.a.formatDate.format(new Date(this.severTime[1]),"yyyy-MM-dd 23:59:59");else t=null;if(this.startTime[0])var a=i.a.formatDate.format(new Date(this.startTime[0]),"yyyy-MM-dd hh:mm:ss");else a=null;if(this.startTime[1])var r=i.a.formatDate.format(new Date(this.startTime[1]),"yyyy-MM-dd 23:59:59");else r=null;"whole"==this.activeName?this.active1="":this.active1=this.activeName;var s={orderStatus:this.active1,serviceStatus:this.sevicerStustas,orgId:this.mechanism,stationId:this.payType,orderNumber:this.orderNumber,orderTimeStart:a,orderTimeEnd:r,serviceTimeStart:e,serviceTimeEnd:t};this.pageNumber=1,this.jumpPage=1,this.getTableData(s,this.pageNumber,this.size)},exportOrder:function(){},lookInf:function(e){window.localStorage.setItem("orderId",e),this.$router.push({path:"/clean/orderinfo",query:{id:e}})},handleSizeChange:function(e){if(this.pageNumber=1,this.jumpPage=1,this.size=e,this.severTime[0])var t=i.a.formatDate.format(new Date(this.severTime[0]),"yyyy-MM-dd hh:mm:ss");else t=null;if(this.severTime[1])var a=i.a.formatDate.format(new Date(this.severTime[1]),"yyyy-MM-dd 23:59:59");else a=null;if(this.startTime[0])var r=i.a.formatDate.format(new Date(this.startTime[0]),"yyyy-MM-dd hh:mm:ss");else r=null;if(this.startTime[1])var s=i.a.formatDate.format(new Date(this.startTime[1]),"yyyy-MM-dd 23:59:59");else s=null;"whole"==this.activeName?this.active1="":this.active1=this.activeName;var n={orderStatus:this.active1,serviceStatus:this.sevicerStustas,orgId:this.mechanism,stationId:this.payType,orderNumber:this.orderNumber,orderTimeStart:r,orderTimeEnd:s,serviceTimeStart:t,serviceTimeEnd:a};this.getTableData(n,this.pageNumber,this.size)},handleCurrentChange:function(e){if(this.pageNumber=e,this.severTime[0])var t=i.a.formatDate.format(new Date(this.severTime[0]),"yyyy-MM-dd hh:mm:ss");else t=null;if(this.severTime[1])var a=i.a.formatDate.format(new Date(this.severTime[1]),"yyyy-MM-dd 23:59:59");else a=null;if(this.startTime[0])var r=i.a.formatDate.format(new Date(this.startTime[0]),"yyyy-MM-dd hh:mm:ss");else r=null;if(this.startTime[1])var s=i.a.formatDate.format(new Date(this.startTime[1]),"yyyy-MM-dd 23:59:59");else s=null;"whole"==this.activeName?this.active1="":this.active1=this.activeName;var n={orderStatus:this.active1,serviceStatus:this.sevicerStustas,orgId:this.mechanism,stationId:this.payType,orderNumber:this.orderNumber,orderTimeStart:r,orderTimeEnd:s,serviceTimeStart:t,serviceTimeEnd:a};this.getTableData(n,this.pageNumber,this.size)}},mounted:function(){this.getTableData({orderStatus:"dispatched"},1,10),this.payStusOptions=this.dict.pay_status,this.orderTest=this.dict.order_status,this.sevicerStustasOptions=this.dict.service_status}}},fIj0:function(e,t){e.exports={assess_grade:{1:"一级",2:"二级",3:"三级",4:"四级",5:"五级"},del_flag:{0:"正常",1:"删除"},education:{primary:"小学",middle:"初中",special:"中专",high:"高中",junior:"大专",university:"本科及以上"},ethnic:{10:"朝鲜族",11:"满族",12:"侗族",13:"瑶族",14:"白族",15:"土家族",16:"哈尼族",17:"哈萨克族",18:"傣族",19:"黎族",20:"僳僳族",21:"佤族",22:"畲族",23:"高山族",24:"拉祜族",25:"水族",26:"东乡族",27:"纳西族",28:"景颇族",29:"柯尔克孜族",30:"土族",31:"达斡尔族",32:"仫佬族",33:"羌族",34:"布朗族",35:"撒拉族",36:"毛难族",37:"仡佬族",38:"锡伯族",39:"阿昌族",40:"普米族",41:"塔吉克族",42:"怒族",43:"乌孜别克族",44:"俄罗斯族",45:"鄂温克族",46:"崩龙族",47:"保安族",48:"裕固族",49:"京族",50:"塔塔尔族",51:"独龙族",52:"鄂伦春族",53:"赫哲族",54:"门巴族",55:"珞巴族",56:"基诺族","01":"汉族","09":"布依族","07":"彝族","02":"蒙古族","04":"藏族","03":"回族","06":"苗族","05":"维吾尔族","08":"壮族"},job_natrue:{full_time:"全职",part_time:"兼职"},job_status:{online:"在岗",leave:"离岗"},matrimony:{unmarried:"未婚",married:"已婚",divorce:"离婚",widowed:"丧偶"},meterage:{house:"按居室",area:"按面积",num:"按数量"},order_majorSort:{clean:"保洁",repair:"家修"},order_source:{score:"积分商城",store:"门店",app:"app",wechat:"微信",tv:"电视",callcenter:"400呼叫中心",web:"PC"},order_status:{dispatched:"已派单",finish:"已完成",success:"已成功",waitdispatch:"待派单",cancel:"已取消",whole:"全部"},order_type:{common:"普通订单",group_split_yes:"组合并拆单",group_split_no:"组合不拆单"},pay_method:{online:"在线",offline:"货到付款"},pay_platform:{cash:"现金",wx_pub_qr:"微信扫码",alipay:"支付宝",balance:"余额",alipay_qr:"支付宝扫码",wx:"微信",pos:"银行卡"},pay_status:{payed:"已支付",waitpay:"待支付"},cancel_type:{customer:"客户来电取消",tech:"无可派技师",other:"其它原因"},relation:{spouse:"夫妻",parent:"父母",children:"子女",siblings:"兄弟姐妹",relative:"亲戚"},return_status:{refunded:"退款成功",failure:"退款失败",cancel:"已取消",refunding:"申请退款中"},service_area_type:{map:"地图",store:"门店"},service_station_type:{self:"直营",join:"加盟"},service_status:{wait_service:"待服务",started:"已上门",finish:"已完成",cancel:"已取消"},ser_sort:{clean:"保洁",repair:"家修",all:"全部"},sex:{male:"男",female:"女"},source:{own:"本机构",other:"第三方"},sys_log_type:{visit:"接入日志",error:"异常日志"},tech_status:{1:"派单",2:"未派单"},work_time:{0:"1年以下",1:"1年",2:"2年",3:"3年",4:"4年",5:"5年",6:"6年",7:"7年",8:"8年",9:"9年",10:"10年",11:"10年以上"},yes_no:{yes:"是",no:"否"},send_type:{save_order:"更新订单信息",del_goods:"删除商品",save_goods:"保存商品"},butt_status:{butt_butt:"对接中",butt_success:"对接成功",butt_fail:"对接失败",remove_fail:"解除失败"},dock_platform:{select:"请选择",gasq:"国安社区"}}},oppB:function(e,t,a){"use strict";function r(e){return _.a.post("/apiservice/a/sys/user/saveData",e)}function s(e){return _.a.post("/apiservice/a/sys/user/upData",e)}function i(e){return _.a.post("/apiservice/a/sys/user/formData",e)}function n(e,t,a){return _.a.post("/apiservice/a/sys/role/listPageData?pageNo="+t+"&pageSize="+a,e)}function o(e){return _.a.post("/apiservice/a/sys/role/listDataWithoutPermission",e)}function c(e,t,a){return _.a.post("/apiservice/a/sys/user/listData?pageNo="+t+"&pageSize="+a,e)}function l(e){return _.a.post("/apiservice/a/sys/role/saveData",e)}function d(e){return _.a.post("/apiservice/a/sys/role/upData",e)}function u(e){return _.a.post("/apiservice/a/sys/role/deleteRole",e)}function p(e){return _.a.get("/apiservice/a/sys/role/getRoleDetail?id="+e)}function h(e){return _.a.post("/apiservice/a/sys/organization/listDataAll",e)}function v(e){return _.a.post("/apiservice/a/service/station/serviceStation/listByOffice",e)}function m(){return _.a.get("/apiservice/a/sys/menu/getMenuList")}function f(e){return _.a.post("/apiservice/a/sys/user/deleteUser",e)}function g(e){return _.a.get("/apiservice/a/sys/role/chkName?id="+e.id+"&name="+e.name)}function y(e){return _.a.get("/apiservice/a/sys/role/chkNameUpdate?id="+e.id+"&name="+e.name+"&roleId="+e.roleId)}t.i=r,t.k=s,t.e=i,t.m=n,t.h=o,t.d=c,t.j=l,t.p=d,t.o=u,t.n=p,t.b=h,t.g=v,t.c=m,t.f=f,t.a=g,t.l=y;var _=a("Vo7i")},xT6B:function(e,t,a){"use strict";function r(e,t){for(var t=t-(e+"").length,a=0;a<t;a++)e="0"+e;return e}var s=/([yMdhsm])(\1*)/g;t.a={getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t),r="";return null!=a&&(r=a[2]),t=null,a=null,null==r||""==r||"undefined"==r?"":r},formatDate:{format:function(e,t){return t=t||"yyyy-MM-dd",t.replace(s,function(t){switch(t.charAt(0)){case"y":return r(e.getFullYear(),t.length);case"M":return r(e.getMonth()+1,t.length);case"d":return r(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return r(e.getHours(),t.length);case"m":return r(e.getMinutes(),t.length);case"s":return r(e.getSeconds(),t.length)}})},parse:function(e,t){var a=t.match(s),r=e.match(/(\d)+/g);if(a.length==r.length){for(var i=new Date(1970,0,1),n=0;n<a.length;n++){var o=parseInt(r[n]);switch(a[n].charAt(0)){case"y":i.setFullYear(o);break;case"M":i.setMonth(o-1);break;case"d":i.setDate(o);break;case"h":i.setHours(o);break;case"m":i.setMinutes(o);break;case"s":i.setSeconds(o)}}return i}return null}}}}});