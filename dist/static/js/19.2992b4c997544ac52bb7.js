webpackJsonp([19],{"2rLn":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".flip-container[data-v-a5354ebc]{-webkit-perspective:1000;perspective:1000}.flip-container.hover1 .flipper[data-v-a5354ebc],.flip-container:hover .flipper[data-v-a5354ebc]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.back[data-v-a5354ebc],.flip-container[data-v-a5354ebc],.front[data-v-a5354ebc]{overflow:hidden;width:50px;height:50px}.back img[data-v-a5354ebc],.front img[data-v-a5354ebc]{width:100%}.flipper[data-v-a5354ebc]{transition:.6s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;position:relative}.back[data-v-a5354ebc],.front[data-v-a5354ebc]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.front[data-v-a5354ebc]{z-index:2}.back[data-v-a5354ebc]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}",""])},"7ted":function(e,t,a){var i=a("2rLn");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("72f89ba9",i,!0)},"F+99":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addorder-container"},[a("el-upload",{ref:"upload",attrs:{action:"http://openservice.oss-cn-beijing.aliyuncs.com","list-type":"picture-card","on-change":e.handPic,"on-remove":e.handleRemovePic,"auto-upload":!1,"http-request":function(t){return e.picUpload(t)}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),a("button",{on:{click:e.open}},[e._v("上传")])],1)},n=[],o={render:i,staticRenderFns:n};t.a=o},Vc3t:function(e,t,a){"use strict";function i(){var e={};return c.a.get("sign")?e=JSON.parse(c.a.get("sign")):s.a.get("/apiservice/oss/getSign").then(function(t){console.log(t.data,"签名");var a=t.data;c.a.set("sign",o()(a)),e=JSON.parse(c.a.get("sign"))}),e}t.a=i;var n=a("mvHQ"),o=a.n(n),s=a("Vo7i"),r=a("lbHh"),c=a.n(r)},b6LW:function(e,t,a){"use strict";function i(e){a("7ted")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("ii9V"),o=a("F+99"),s=a("VU/8"),r=i,c=s(n.a,o.a,r,"data-v-a5354ebc",null);t.default=c.exports},ii9V:function(e,t,a){"use strict";var i=a("mvHQ"),n=a.n(i),o=a("//Fk"),s=a.n(o),r=a("lbHh"),c=a.n(r),l=a("Vc3t");t.a={data:function(){return{value:"ddeeeeeeeeeeeee月月儿科可",picList:[],testArr:[],dialogVisible:!1,dialogImageUrl:"",picFile:[]}},methods:{open:function(){this.$refs.upload.submit()},handPic:function(e,t){if("image/gif"!=e.type&&"image/jpg"!=e.type&&"image/png"!=e.type&&"image/jpeg"!=e.type)return this.$message.error("请上传正确的图片格式"),!1;var a=new Date,i=a.getFullYear(),n=a.getMonth()+1,o=a.getDate();this.sign.dir,e.name;t.length>4&&(this.$message({type:"warning",message:"最多上传4张图片"}),t.splice(t.indexOf(e),1))},handleRemovePic:function(e,t){t.splice(t.indexOf(e),0)},picUpload:function(e){var t=this;console.log(e.file.uid);var a=this;new s.a(function(e,a){console.log(JSON.parse(c.a.get("sign")),"测试1111");var i=JSON.parse(c.a.get("sign")),o=Date.parse(new Date)/1e3;i.expire-3>o?(console.log("签名没过期"),e(i)):t.$http.get("/apiservice/oss/getSign").then(function(t){console.log(t,"签名过期"),c.a.set("sign",n()(t.data)),e(t.data)})}).then(function(i){var n=i,o=new FormData,s=new Date,r=(s.getTime(),s.getFullYear()),c=s.getMonth()+1,l=s.getDate();o.append("name",e.file.name),o.append("key",n.dir+"/"+r+"/"+c+"/"+l+"/"+e.file.uid+".jpg"),o.append("policy",n.policy),o.append("OSSAccessKeyId",n.accessid),o.append("success_action_status",201),o.append("signature",n.signature),o.append("file",e.file,e.file.name),a.$http.post(n.host,o,{headers:{"Content-Type":"multipart/form-data; boundary={boundary}"}}).then(function(e){t.testArr.push(o.get("key")),console.log(t.testArr,"this.testArr------"),console.log("aaaaa")}).catch(function(e){console.log("错误-------------上传图片失败--"),console.log(e,"错误")})})}},computed:{sign:function(){return a.i(l.a)()}},mounted:function(){}}}});