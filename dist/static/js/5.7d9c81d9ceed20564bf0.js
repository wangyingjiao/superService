webpackJsonp([5],{"/0s5":function(e,t,i){"use strict";function a(e){i("pWQp")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("oiIR"),o=i("M6/Q"),s=i("VU/8"),r=a,l=s(n.a,o.a,r,null,null);t.default=l.exports},"/n6Q":function(e,t,i){i("zQR9"),i("+tPU"),e.exports=i("Kh4W").f("iterator")},"06OY":function(e,t,i){var a=i("3Eo+")("meta"),n=i("EqjI"),o=i("D2L2"),s=i("evD5").f,r=0,l=Object.isExtensible||function(){return!0},c=!i("S82l")(function(){return l(Object.preventExtensions({}))}),d=function(e){s(e,a,{value:{i:"O"+ ++r,w:{}}})},u=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[a].i},f=function(e,t){if(!o(e,a)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[a].w},p=function(e){return c&&h.NEED&&l(e)&&!o(e,a)&&d(e),e},h=e.exports={KEY:a,NEED:!1,fastKey:u,getWeak:f,onFreeze:p}},"0xDb":function(e,t,i){"use strict";function a(e,t){if(0===arguments.length)return null;var i=t||"{y}-{m}-{d} {h}:{i}:{s}",a=void 0;"object"===(void 0===e?"undefined":o()(e))?a=e:(10===(""+e).length&&(e=1e3*parseInt(e)),a=new Date(e));var n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()};return i.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var i=n[t];return"a"===t?["一","二","三","四","五","六","日"][i-1]:(e.length>0&&i<10&&(i="0"+i),i||0)})}t.a=a;var n=i("pFYg"),o=i.n(n)},"5DwC":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".btn_left,.btn_right{width:100px}.checkRightBox{border:1px solid #dcdcdc;padding:10px}.checkAllBox,.checkBox1{padding:10px 0}.checkBox1{border-top:1px solid #dcdcdc;border-bottom:1px solid #dcdcdc}.checkBox2,.checkBox3{padding:10px 0}.checkBox3{border-top:1px solid #dcdcdc}.checkBox1 .el-checkbox,.checkBox2 .el-checkbox,.checkBox3 .el-checkbox{margin-left:0;margin-right:15px}body{background-color:#eef1f6}.bgWhite{background-color:#fff;padding:15px 20px 20px}.btn_pad{margin:0 0 15px 20px}.btn_right{float:right}.el-tree-node .el-tree-node__children .el-tree-node .el-tree-node__children .el-tree-node__children .el-tree-node,.el-tree-node .el-tree-node__children .el-tree-node__children .el-tree-node{float:left}.el-tree-node:first-child\r\n  .el-tree-node__children\r\n  .el-tree-node__children\r\n  .el-tree-node{float:none}.ceshi{height:25px;width:80px}.ceshi3{font-size:14px;color:#1d85fe;border:1px solid #1d85fe;background-color:#fff}.dialog-footer{text-align:center}.scrollBox{height:400px;overflow-y:scroll;overflow-x:hidden}",""])},"5QVw":function(e,t,i){e.exports={default:i("BwfY"),__esModule:!0}},"7UMu":function(e,t,i){var a=i("R9M2");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"9bBU":function(e,t,i){i("mClu");var a=i("FeBl").Object;e.exports=function(e,t,i){return a.defineProperty(e,t,i)}},BwfY:function(e,t,i){i("fWfb"),i("M6a0"),i("OYls"),i("QWe/"),e.exports=i("FeBl").Symbol},C4MV:function(e,t,i){e.exports={default:i("9bBU"),__esModule:!0}},Kh4W:function(e,t,i){t.f=i("dSzd")},LKZe:function(e,t,i){var a=i("NpIQ"),n=i("X8DO"),o=i("TcQ7"),s=i("MmMw"),r=i("D2L2"),l=i("SfB7"),c=Object.getOwnPropertyDescriptor;t.f=i("+E39")?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(r(e,t))return n(!a.f.call(e,t),e[t])}},"M6/Q":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"filter-container bgWhite"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入搜索的岗位名称"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.handleFilter(t)}},model:{value:e.search.name,callback:function(t){e.search.name=t},expression:"search.name"}}),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"选择机构"},model:{value:e.search.officeId,callback:function(t){e.search.officeId=t},expression:"search.officeId"}},e._l(e.officeIds,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("button",{staticClass:"button-large el-icon-search btn_right",on:{click:e.handleFilter}},[e._v(" 搜索")])],1),e._v(" "),i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticClass:"bgWhite"},[e.btnShow.indexOf("role_insert")>=0?i("button",{staticClass:"button-small btn_right btn_pad ceshi",on:{click:e.handleCreate}},[e._v("新       增")]):e._e(),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"","element-loading-text":"正在加载",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"编号",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.index+(e.pageNumber-1)*e.pageSize)+"\n        ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"机构名称",align:"center",prop:"organization.name"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.btnShow.indexOf("role_update")>=0?i("el-button",{staticClass:"el-icon-edit ceshi3",on:{click:function(i){e.handleUpdate(t.row)}}}):e._e(),e._v(" "),e.btnShow.indexOf("role_delete")>=0?i("el-button",{staticClass:"el-icon-delete ceshi3",on:{click:function(i){e.handleDelete(t.row)}}}):e._e()]}}])})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[i("el-pagination",{staticClass:"fr mt20",attrs:{"current-page":e.listQuery.page,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.listQuery.page=t}}})],1),e._v(" "),i("el-dialog",{staticClass:"diatable",attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"temp",staticClass:"small-space",staticStyle:{width:"500px","margin-left":"20px"},attrs:{model:e.temp,"label-position":"left",rules:e.rules,"label-width":"160px"}},[i("el-form-item",{attrs:{label:" 所属机构:",prop:"officeId"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"请选择"},on:{change:e.aaa},model:{value:e.temp.officeId,callback:function(t){e.temp.officeId=t},expression:"temp.officeId"}},e._l(e.officeIds,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"岗位名称:",prop:"name"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入2-15位的岗位名称"},model:{value:e.temp.name,callback:function(t){e.temp.name="string"==typeof t?t.trim():t},expression:"temp.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"等级:",prop:"dataScope"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"请选择"},on:{change:e.lvChange},model:{value:e.temp.dataScope,callback:function(t){e.temp.dataScope=t},expression:"temp.dataScope"}},e._l(e.roleLv,function(e){return i("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"权限:",prop:"check"}},[i("el-tree",{ref:"domTree",staticClass:"scrollBox",staticStyle:{width:"400px"},attrs:{data:e.data2,indent:10,"show-checkbox":"","node-key":"id","default-expand-all":!0,props:e.defaultProps},on:{"check-change":e.handTreechange},model:{value:e.temp.check,callback:function(t){e.temp.check=t},expression:"temp.check"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},["update"==e.dialogStatus?i("button",{staticClass:"button-large",on:{click:function(t){e.update("temp")}}},[e._v("保 存")]):i("button",{staticClass:"button-large",attrs:{disabled:e.btnState},on:{click:function(t){e.create("temp")}}},[e._v("保 存")]),e._v(" "),i("button",{staticClass:"button-cancel",on:{click:function(t){e.resetForm("temp")}}},[e._v("取 消")])])],1)],1)])])},n=[],o={render:a,staticRenderFns:n};t.a=o},OYls:function(e,t,i){i("crlp")("asyncIterator")},"QWe/":function(e,t,i){i("crlp")("observable")},Rrel:function(e,t,i){var a=i("TcQ7"),n=i("n0T6").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(e){try{return n(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?r(e):n(a(e))}},XZlg:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".waves-ripple{position:absolute;border-radius:100%;background-color:rgba(0,0,0,.15);background-clip:padding-box;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:1}.waves-ripple.z-active{opacity:0;-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);-webkit-transition:opacity 1.2s ease-out,-webkit-transform .6s ease-out;transition:opacity 1.2s ease-out,-webkit-transform .6s ease-out;transition:opacity 1.2s ease-out,transform .6s ease-out;transition:opacity 1.2s ease-out,transform .6s ease-out,-webkit-transform .6s ease-out}",""])},Xc4G:function(e,t,i){var a=i("lktj"),n=i("1kS7"),o=i("NpIQ");e.exports=function(e){var t=a(e),i=n.f;if(i)for(var s,r=i(e),l=o.f,c=0;r.length>c;)l.call(e,s=r[c++])&&t.push(s);return t}},Zzip:function(e,t,i){e.exports={default:i("/n6Q"),__esModule:!0}},bOdI:function(e,t,i){"use strict";t.__esModule=!0;var a=i("C4MV"),n=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e,t,i){return t in e?(0,n.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},cAgV:function(e,t,i){"use strict";var a=i("jdeu"),n=function(e){e.directive("waves",a.a)};window.Vue&&(window.waves=a.a,Vue.use(n)),a.a.install=n,t.a=a.a},crlp:function(e,t,i){var a=i("7KvD"),n=i("FeBl"),o=i("O4g8"),s=i("Kh4W"),r=i("evD5").f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||r(t,e,{value:s.f(e)})}},ctMr:function(e,t,i){var a=i("XZlg");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("44fae30e",a,!0)},fWfb:function(e,t,i){"use strict";var a=i("7KvD"),n=i("D2L2"),o=i("+E39"),s=i("kM2E"),r=i("880/"),l=i("06OY").KEY,c=i("S82l"),d=i("e8AB"),u=i("e6n0"),f=i("3Eo+"),p=i("dSzd"),h=i("Kh4W"),g=i("crlp"),m=i("Xc4G"),v=i("7UMu"),b=i("77Pl"),y=i("TcQ7"),x=i("MmMw"),k=i("X8DO"),w=i("Yobk"),S=i("Rrel"),_=i("LKZe"),I=i("evD5"),C=i("lktj"),L=_.f,O=I.f,z=S.f,M=a.Symbol,F=a.JSON,j=F&&F.stringify,D=p("_hidden"),N=p("toPrimitive"),T={}.propertyIsEnumerable,$=d("symbol-registry"),B=d("symbols"),E=d("op-symbols"),Q=Object.prototype,P="function"==typeof M,K=a.QObject,V=!K||!K.prototype||!K.prototype.findChild,W=o&&c(function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,i){var a=L(Q,t);a&&delete Q[t],O(e,t,i),a&&e!==Q&&O(Q,t,a)}:O,Y=function(e){var t=B[e]=w(M.prototype);return t._k=e,t},R=P&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},U=function(e,t,i){return e===Q&&U(E,t,i),b(e),t=x(t,!0),b(i),n(B,t)?(i.enumerable?(n(e,D)&&e[D][t]&&(e[D][t]=!1),i=w(i,{enumerable:k(0,!1)})):(n(e,D)||O(e,D,k(1,{})),e[D][t]=!0),W(e,t,i)):O(e,t,i)},A=function(e,t){b(e);for(var i,a=m(t=y(t)),n=0,o=a.length;o>n;)U(e,i=a[n++],t[i]);return e},Z=function(e,t){return void 0===t?w(e):A(w(e),t)},J=function(e){var t=T.call(this,e=x(e,!0));return!(this===Q&&n(B,e)&&!n(E,e))&&(!(t||!n(this,e)||!n(B,e)||n(this,D)&&this[D][e])||t)},X=function(e,t){if(e=y(e),t=x(t,!0),e!==Q||!n(B,t)||n(E,t)){var i=L(e,t);return!i||!n(B,t)||n(e,D)&&e[D][t]||(i.enumerable=!0),i}},q=function(e){for(var t,i=z(y(e)),a=[],o=0;i.length>o;)n(B,t=i[o++])||t==D||t==l||a.push(t);return a},G=function(e){for(var t,i=e===Q,a=z(i?E:y(e)),o=[],s=0;a.length>s;)!n(B,t=a[s++])||i&&!n(Q,t)||o.push(B[t]);return o};P||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(i){this===Q&&t.call(E,i),n(this,D)&&n(this[D],e)&&(this[D][e]=!1),W(this,e,k(1,i))};return o&&V&&W(Q,e,{configurable:!0,set:t}),Y(e)},r(M.prototype,"toString",function(){return this._k}),_.f=X,I.f=U,i("n0T6").f=S.f=q,i("NpIQ").f=J,i("1kS7").f=G,o&&!i("O4g8")&&r(Q,"propertyIsEnumerable",J,!0),h.f=function(e){return Y(p(e))}),s(s.G+s.W+s.F*!P,{Symbol:M});for(var H="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;H.length>ee;)p(H[ee++]);for(var te=C(p.store),ie=0;te.length>ie;)g(te[ie++]);s(s.S+s.F*!P,"Symbol",{for:function(e){return n($,e+="")?$[e]:$[e]=M(e)},keyFor:function(e){if(!R(e))throw TypeError(e+" is not a symbol!");for(var t in $)if($[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!P,"Object",{create:Z,defineProperty:U,defineProperties:A,getOwnPropertyDescriptor:X,getOwnPropertyNames:q,getOwnPropertySymbols:G}),F&&s(s.S+s.F*(!P||c(function(){var e=M();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!R(e)){for(var t,i,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);return t=a[1],"function"==typeof t&&(i=t),!i&&v(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!R(t))return t}),a[1]=t,j.apply(F,a)}}}),M.prototype[N]||i("hJx8")(M.prototype,N,M.prototype.valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(a.JSON,"JSON",!0)},jdeu:function(e,t,i){"use strict";var a=i("woOf"),n=i.n(a),o=i("ctMr");i.n(o);t.a={bind:function(e,t){e.addEventListener("click",function(i){var a=n()({},t.value),o=n()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=o.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var r=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",s.appendChild(l)),o.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=i.pageY-r.top-l.offsetHeight/2-document.body.scrollTop+"px",l.style.left=i.pageX-r.left-l.offsetWidth/2-document.body.scrollLeft+"px"}return l.style.backgroundColor=o.color,l.className="waves-ripple z-active",!1}},!1)}}},mClu:function(e,t,i){var a=i("kM2E");a(a.S+a.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},n0T6:function(e,t,i){var a=i("Ibhu"),n=i("xnc9").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},oiIR:function(e,t,i){"use strict";var a=i("bOdI"),n=i.n(a),o=i("oppB"),s=i("cAgV"),r=i("0xDb"),l=[{value:"可用",key:"1"},{value:"不可用",key:"0"}];t.a={name:"table_demo",directives:{waves:s.a},data:function(){var e,t=this,a=function(e,a,n){if(!a)return n(new Error("岗位名不能为空"));console.log(t.dialogStatus),"create"==t.dialogStatus?i.i(o.i)(a).then(function(e){0==e.data.code?n(new Error("岗位名重复！")):n()}):n()};return e={btnShow:this.$store.state.user.buttonshow,btnState:!1,list:[],officeIds:[],total:null,listLoading:!1,state:!1,search:{name:"",officeId:""},listQuery:{page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},pageNumber:1,pageSize:10},n()(e,"total",1),n()(e,"temp",{name:"",dataScope:"",check:[],officeId:""}),n()(e,"checkNode",[]),n()(e,"roleId",""),n()(e,"checked",[]),n()(e,"station",""),n()(e,"stationName",""),n()(e,"stationLv",[{id:"1",value:"一级"},{id:"2",value:"二级"},{id:"3",value:"三级"},{id:"4",value:"四级"},{id:"5",value:"五级"},{id:"6",value:"六级"},{id:"7",value:"七级"},{id:"8",value:"八级"},{id:"9",value:"九级"},{id:"10",value:"十级"}]),n()(e,"roleLv",[]),n()(e,"dialogFormVisible",!1),n()(e,"state",l),n()(e,"dialogStatus",""),n()(e,"textMap",{update:"编辑岗位",create:"新增岗位"}),n()(e,"dialogPvVisible",!1),n()(e,"pvData",[]),n()(e,"tableKey",0),n()(e,"data2",[]),n()(e,"defaultProps",{children:"subMenus",label:"name"}),n()(e,"powerList",[]),n()(e,"isIndeterminate",!0),n()(e,"rules",{officeId:[{required:!0,message:"机构不能为空",trigger:"change"}],name:[{required:!0,validator:a,trigger:"blur"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"}],dataScope:[{required:!0,message:"等级不能为空",trigger:"change"}],check:[{type:"array",required:!0,message:"权限不能为空",trigger:"check-change"}]}),e},filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},created:function(){var e=this;this.getList(),i.i(o.b)().then(function(t){console.log("权限列表"),console.log(t),e.data2=t.data.data}),i.i(o.a)({}).then(function(t){console.log("所属机构,机构搜索"),console.log(t),e.officeIds=t.data.data.list,console.log(e.officeIds)});var t=localStorage.getItem("dataScope");console.log(t,"用户等级");for(var a=0;a<t;a++)this.roleLv.push(this.stationLv[a]);console.log(this.roleLv,"用户看到的等级")},methods:{aaa:function(e){console.log(e)},getList:function(){var e=this;this.listLoading=!0;var t={};i.i(o.j)(t,this.pageNumber,this.pageSize).then(function(t){if(console.log(t),e.list=t.data.data.list,void 0!=e.list)for(var i=0;i<e.list.length;i++)e.list[i].index=i+1;e.total=t.data.data.count,e.listLoading=!1})},handleFilter:function(){var e=this;this.listQuery.page=1;var t={name:this.search.name,organization:{id:this.search.officeId}};if(console.log(t),""!=t.name||""!=t.organization.id)this.listLoading=!0,i.i(o.j)(t,this.pageNumber,this.pageSize).then(function(t){if(console.log(t),1===t.data.code){if(e.list=t.data.data.list,void 0!=e.list)for(var i=0;i<e.list.length;i++)e.list[i].index=i+1;e.total=t.data.data.count,e.listLoading=!1}else e.listLoading=!1,e.$message({type:"warning",message:"岗位名不存在"})});else{var t={};i.i(o.j)(t,this.pageNumber,this.pageSize).then(function(t){if(console.log(t),1===t.data.code){if(e.list=t.data.data.list,void 0!=e.list)for(var i=0;i<e.list.length;i++)e.list[i].index=i+1;e.total=t.data.data.count,e.listLoading=!1}})}},handleSizeChange:function(e){var t=this;this.pageSize=e;var a={name:this.search.name,organization:{id:this.search.officeId}};if(console.log(a),""!=a.name||""!=a.organization.id)this.listLoading=!0,i.i(o.j)(a,this.pageNumber,this.pageSize).then(function(e){if(console.log(e),1===e.data.code){if(t.list=e.data.data.list,void 0!=t.list)for(var i=0;i<t.list.length;i++)t.list[i].index=i+1;t.total=e.data.data.count,t.listLoading=!1}else t.listLoading=!1,t.$message({type:"warning",message:"岗位名不存在"})});else{var a={};i.i(o.j)(a,this.pageNumber,this.pageSize).then(function(e){if(console.log(e),1===e.data.code){if(t.list=e.data.data.list,void 0!=t.list)for(var i=0;i<t.list.length;i++)t.list[i].index=i+1;t.total=e.data.data.count,t.listLoading=!1}})}},handleCurrentChange:function(e){var t=this;this.pageNumber=e;var a={name:this.search.name,organization:{id:this.search.officeId}};if(console.log(a),""!=a.name||""!=a.organization.id)this.listLoading=!0,i.i(o.j)(a,this.pageNumber,this.pageSize).then(function(e){if(console.log(e),1===e.data.code){if(t.list=e.data.data.list,void 0!=t.list)for(var i=0;i<t.list.length;i++)t.list[i].index=i+1;t.total=e.data.data.count,t.listLoading=!1}else t.listLoading=!1,t.$message({type:"warning",message:"岗位名不存在"})});else{var a={};i.i(o.j)(a,this.pageNumber,this.pageSize).then(function(e){if(console.log(e),1===e.data.code){if(t.list=e.data.data.list,void 0!=t.list)for(var i=0;i<t.list.length;i++)t.list[i].index=i+1;t.total=e.data.data.count,t.listLoading=!1}})}},handTreechange:function(e,t,i){this.temp.check=this.$refs.domTree.getCheckedKeys()},timeFilter:function(e){if(!e[0])return this.listQuery.start=void 0,void(this.listQuery.end=void 0);this.listQuery.start=parseInt(+e[0]/1e3),this.listQuery.end=parseInt((+e[1]+864e5)/1e3)},lvChange:function(e){},offChange:function(e){console.log(e)},handleCreate:function(){this.dialogStatus="create",this.dialogFormVisible=!0,1==this.officeIds.length&&(console.log(this.officeIds[0].id),this.temp.officeId=this.officeIds[0].id)},handleUpdate:function(e){var t=this;this.listLoading=!0,i.i(o.k)(e.id).then(function(e){if(console.log(e),t.listLoading=!1,1==e.data.code){t.dialogStatus="update",t.dialogFormVisible=!0;var i=e.data.data;t.roleId=i.id,t.temp.officeId=i.organization.id,t.temp.name=i.name,t.temp.dataScope=i.dataScope,t.temp.check=i.menuIdList,console.log(i.menuIdList);for(var a=0;a<t.data2.length;a++)if("index"==t.data2[a].permission?console.log(t.data2[a].permission):t.temp.check.remove(t.data2[a].id),void 0!=t.data2[a].subMenus)for(var n=t.data2[a],o=0;o<n.subMenus.length;o++)console.log(n.subMenus[o].id),t.temp.check.remove(n.subMenus[o].id);console.log(i.menuIdList),console.log(t.temp.check),t.$nextTick(function(){t.$refs.domTree.setCheckedKeys(t.temp.check)})}else t.$message({type:"warning",message:"请求失败"})})},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(e);var a={id:e.id};i.i(o.l)(a).then(function(e){console.log(e),1===e.data.code?(t.$message({type:"success",message:"删除成功!"}),t.getList()):t.$message({type:"warning",message:e.data.data})}).catch(function(){t.$message({type:"warning",message:"服务器已断开，请稍后再试"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getLv:function(){},getFather:function(e){console.log(121233213);for(var t in e)void 0!=e[t].subMenus?(console.log(t),this.getFather(e[t].subMenus)):this.data2.indexOf(e[t].id)>-1&&console.log(e[t].parentId)},create:function(e){var t=this;this.btnState=!0,setTimeout(function(){t.btnState=!1},1e3),this.search={name:"",officeId:""};for(var a=this.$refs.domTree.getCheckedKeys(),n="",s=0;s<a.length;s++)n+=a[s]+",";var r={name:this.temp.name,dataScope:this.temp.dataScope,menuIds:n,useable:"1",organization:{id:this.temp.officeId}};console.log(r),this.$refs[e].validate(function(a){if(!a)return!1;i.i(o.h)(r).then(function(i){console.log(i),1===i.data.code?(t.resetTemp(),t.$refs[e].resetFields(),t.$refs.domTree.setCheckedKeys([]),t.$message({type:"success",message:"添加成功"}),t.dialogFormVisible=!1,t.getList()):t.$message({type:"error",message:i.data.data[0]})})})},update:function(e){var t=this;this.search={name:"",officeId:""};for(var a=this.$refs.domTree.getCheckedKeys(),n="",s=0;s<a.length;s++)n+=a[s]+",";var r={id:this.roleId,name:this.temp.name,dataScope:this.temp.dataScope,menuIds:n,useable:"1",organization:{id:this.temp.officeId}};console.log(r),this.$refs[e].validate(function(a){if(!a)return!1;i.i(o.h)(r).then(function(i){1===i.data.code?(t.resetTemp(),t.$refs.domTree.setCheckedKeys([]),t.$refs[e].resetFields(),t.dialogFormVisible=!1,t.$message({type:"success",message:"修改成功"}),t.getList()):"string"==typeof i.data.data?t.$message({type:"error",message:i.data.data}):t.$message({type:"error",message:i.data.data[0]})})})},resetForm:function(e){this.dialogFormVisible=!1,this.resetTemp(),this.$refs.domTree.setCheckedKeys([]),this.$refs[e].resetFields()},resetTemp:function(){this.temp={officeId:"",name:"",dataScope:"",check:[]}},handleFetchPv:function(e){var t=this;fetchPv(e).then(function(e){t.pvData=e.data.pvData,t.dialogPvVisible=!0})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?i.i(r.a)(t[e]):t[e]})})}}}},oppB:function(e,t,i){"use strict";function a(e){return v.post("/apiservice/a/sys/user/saveData",e)}function n(e,t,i){return v.post("/apiservice/a/sys/role/listPageData?pageNo="+t+"&pageSize="+i,e)}function o(e){return v.post("/apiservice/a/sys/role/listData",e)}function s(e,t,i){return v.post("/apiservice/a/sys/user/listData?pageNo="+t+"&pageSize="+i,e)}function r(e){return v.post("/apiservice/a/sys/role/saveData",e)}function l(e){return v.post("/apiservice/a/sys/role/deleteRole",e)}function c(e){return v.get("/apiservice/a/sys/role/getRoleDetail?id="+e)}function d(e){return v.post("/apiservice/a/sys/organization/listData?pageSize=-1",e)}function u(e){return v.post("/apiservice/a/service/station/serviceStation/listByOffice",e)}function f(){return v.get("/apiservice/a/sys/menu/getMenuList")}function p(e){return v.post("/apiservice/a/sys/user/deleteUser",e)}function h(e){return v.get("/apiservice/a/sys/role/chkName?name="+e)}t.g=a,t.j=n,t.f=o,t.c=s,t.h=r,t.l=l,t.k=c,t.a=d,t.e=u,t.b=f,t.d=p,t.i=h;var g=i("mtWM"),m=i.n(g),v=m.a.create({headers:{"content-type":"application/json;charset=UTF-8"}})},pFYg:function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=i("Zzip"),o=a(n),s=i("5QVw"),r=a(s),l="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};t.default="function"==typeof r.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":l(e)}},pWQp:function(e,t,i){var a=i("5DwC");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("59882488",a,!0)}});