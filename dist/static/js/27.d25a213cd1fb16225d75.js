webpackJsonp([27],{IM03:function(e,t,s){var a=s("xKxB");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("XkoO")("1b3d8880",a,!0)},V4yq:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"diatable diasize",attrs:{visible:e.dialogFormVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,id:"diatable"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"temp",staticClass:"small-space dia_form",attrs:{model:e.temp,"label-position":"left","label-width":"160px"}},[s("el-form-item",{attrs:{label:"所属机构:",prop:"officeId"}},[s("el-select",{staticClass:"form_item",attrs:{disabled:e.selsctState,filterable:"",placeholder:"请选择"},model:{value:e.temp.officeId,callback:function(t){e.temp.officeId=t},expression:"temp.officeId"}},e._l(e.officeIds,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"岗位名称:",prop:"name"}},[s("el-input",{staticClass:"form_item",attrs:{placeholder:"请输入2-15位的岗位名称"},model:{value:e.temp.name,callback:function(t){e.temp.name="string"==typeof t?t.trim():t},expression:"temp.name"}})],1),e._v(" "),s("el-form-item",{staticClass:"treecss",attrs:{label:"权限:",prop:"check"}},[s("el-tree",{ref:"domTree",staticClass:"scrollBox form_item",attrs:{data:e.treeData,indent:30,"show-checkbox":"","node-key":"id","default-expand-all":!0,props:e.defaultProps},on:{"check-change":e.handTreechange,"node-click":e.nodeClick,"current-change":e.currentChange,"node-expand":e.nodeExpand,"node-collapse":e.nodeCollapse},model:{value:e.temp.check,callback:function(t){e.temp.check=t},expression:"temp.check"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",slot:"footer"},["update"==e.dialogStatus&&e.myselfUpdate?s("button",{staticClass:"button-large btn-color",attrs:{disabled:e.btnState},on:{click:function(t){e.update("temp")}}},[e._v("保 存")]):e._e(),e._v(" "),"create"==e.dialogStatus?s("button",{staticClass:"button-large btn-color",attrs:{disabled:e.btnState},on:{click:function(t){e.create("temp")}}},[e._v("保 存")]):e._e(),e._v(" "),s("button",{staticClass:"button-cancel btn-color-cancel",on:{click:function(t){e.resetForm("temp")}}},[e._v("取 消")])])],1)},i=[],n={render:a,staticRenderFns:i};t.a=n},Vc3t:function(e,t,s){"use strict";function a(){var e={};return l.a.get("sign")?e=JSON.parse(l.a.get("sign")):r.a.get("/apiservice/oss/getSign").then(function(t){var s=t.data;l.a.set("sign",n()(s)),e=JSON.parse(l.a.get("sign"))}),e}t.a=a;var i=s("3cXf"),n=s.n(i),r=s("Vo7i"),o=s("Z7nP"),l=s.n(o)},WWhx:function(e,t,s){"use strict";var a=s("Z7nP");s.n(a),s("Vc3t");t.a={name:"role-dialog",data:function(){return{btnShow:JSON.parse(localStorage.getItem("btn")),btnState:!1,selsctState:!1,myselfUpdate:!0,officeIds:[],temp:{name:"",dataScope:"10",check:[],officeId:""},stationLv:[{id:"1",value:"一级"},{id:"2",value:"二级"},{id:"3",value:"三级"},{id:"4",value:"四级"},{id:"5",value:"五级"},{id:"6",value:"六级"},{id:"7",value:"七级"},{id:"8",value:"八级"},{id:"9",value:"九级"},{id:"10",value:"十级"}],roleLv:[],dialogFormVisible:!0,dialogStatus:"",textMap:{update:"编辑岗位",create:"新增岗位"},defaultProps:{children:"subMenus",label:"name"}}},computed:{},props:["treeData"],methods:{nodeClick:function(e,t,s){},currentChange:function(e,t){},nodeExpand:function(e,t,s){},nodeCollapse:function(e,t,s){},handTreechange:function(e,t,s){if(t){if(["order_time","order_dispatch","order_addTech","order_cancel"].indexOf(e.permission)>-1)for(var a=e.parentIds.split(","),i=0;i<this.treeData.length;i++)if(void 0!=this.treeData[i].subMenus)for(var n=0;n<this.treeData[i].subMenus.length;n++)"order"==this.treeData[i].subMenus[n].permission&&this.$refs.domTree.setChecked(this.treeData[i].subMenus[n].subMenus[this.treeData[i].subMenus[n].subMenus.length-2].id,!0);if(void 0==e.subMenus)for(var a=e.parentIds.split(","),i=0;i<this.treeData.length;i++)if(void 0!=this.treeData[i].subMenus)for(var n=0;n<this.treeData[i].subMenus.length;n++)if(this.treeData[i].subMenus[n].id==a[3]){var r=this.treeData[i].subMenus[n].subMenus[this.treeData[i].subMenus[n].subMenus.length-1];if(void 0!=r.permission){var o=r.permission,l=o.substring(o.length-4,o.length);"view"==l&&this.$refs.domTree.setChecked(r.id,!0)}}}else{if("order_info"==e.permission)for(var i=0;i<this.treeData.length;i++)if(void 0!=this.treeData[i].subMenus)for(var n=0;n<this.treeData[i].subMenus.length;n++)if("order"==this.treeData[i].subMenus[n].permission)for(var d=this.treeData[i].subMenus[n],c=0;c<d.subMenus.length-2;c++)this.temp.check.indexOf(d.subMenus[c].id)>-1&&(this.$refs.domTree.setChecked(this.treeData[i].subMenus[n].subMenus[d.subMenus.length-2].id,!0),this.temp.check=this.$refs.domTree.getCheckedKeys());if("view"==e.permission.substring(e.permission.length-4,e.permission.length))for(var u=e.parentIds.split(","),i=0;i<this.treeData.length;i++)if(void 0!=this.treeData[i].subMenus)for(var n=0;n<this.treeData[i].subMenus.length;n++)if(this.treeData[i].subMenus[n].id==u[3])for(var c=0;c<this.treeData[i].subMenus[n].subMenus.length-1;c++)this.temp.check.indexOf(this.treeData[i].subMenus[n].subMenus[c].id)>-1&&this.$refs.domTree.setChecked(this.treeData[i].subMenus[n].subMenus[this.treeData[i].subMenus[n].subMenus.length-1].id,!0)}this.temp.check=this.$refs.domTree.getCheckedKeys()},resetForm:function(){this.dialogFormVisible=!1}}}},xKxB:function(e,t,s){t=e.exports=s("acE3")(!1),t.push([e.i,".treecss .el-tree-node .el-tree-node__children .el-tree-node .el-tree-node__children .el-tree-node__children .el-tree-node,.treecss .el-tree-node .el-tree-node__children .el-tree-node__children .el-tree-node{float:left}.ceshi{height:25px;width:80px}.dialog-footer{text-align:center}.scrollBox{height:400px;overflow-y:scroll;overflow-x:hidden}.diasize .el-dialog{width:60%}",""])},zfsD:function(e,t,s){"use strict";function a(e){s("IM03")}Object.defineProperty(t,"__esModule",{value:!0});var i=s("WWhx"),n=s("V4yq"),r=s("J0+h"),o=a,l=r(i.a,n.a,o,null,null);t.default=l.exports}});