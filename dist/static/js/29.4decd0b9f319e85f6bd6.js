webpackJsonp([29],{"3Idk":function(e,t,a){t=e.exports=a("acE3")(!1),t.push([e.i,".dispatchNumberStyle[data-v-390481a8]{cursor:pointer;padding-left:18px;padding-right:18px}.dispatchNumberStyle1[data-v-390481a8]{padding-left:18px;padding-right:18px}.dispatchNumberStyle[data-v-390481a8]:hover{color:#1d85fe}.FloatRight[data-v-390481a8]{float:right}.selfpromMessageTab[data-v-390481a8]{position:relative;width:100%;margin-top:20px;margin-left:10px}.techNameStyle[data-v-390481a8]{width:80px;height:25px;line-height:25px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tabWrap1[data-v-390481a8]{width:80px;margin-right:10px;margin-left:10px;margin-top:5px;font-size:12px;display:inline-block;height:25px;text-align:center;line-height:25px;border-radius:12px;border:1px solid #bfcbd9;position:relative}.selfTableWrapONE[data-v-390481a8]{margin-top:20px;overflow:hidden;width:660px;height:280px;position:relative}.table-d[data-v-390481a8]{width:677px;overflow-y:scroll;height:276px;margin-left:15px}.selfTable[data-v-390481a8],.selfTable tr td[data-v-390481a8],.selfTable tr th[data-v-390481a8]{border:1px solid #eee}.selfTable[data-v-390481a8]{min-height:25px;line-height:25px;text-align:center;border-collapse:collapse;padding:2px}.height70[data-v-390481a8]{height:70px}.imgStyle[data-v-390481a8]{display:block}.slide-enter-active[data-v-390481a8]{transition:all .8s ease}.slide-leave-active[data-v-390481a8]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-enter[data-v-390481a8],.slide-leave-active[data-v-390481a8]{transform:translateY(-10px);opacity:0}.tableHeader[data-v-390481a8]{position:absolute;z-index:99999;top:0}.selfTdStyle1[data-v-390481a8]{vertical-align:middle;height:70px;line-height:70px}.selftechNameStyle[data-v-390481a8]{width:185px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fontSize12[data-v-390481a8]{font-size:12px}.selfTabProm[data-v-390481a8]{width:100%;text-align:center;height:200px;line-height:200px}.bgWhite[data-v-390481a8]{background-color:#fff;padding:20px}.el-table_1_column_8[data-v-390481a8]{border-right:none}.selfTd[data-v-390481a8]{text-align:center;height:60px;line-height:60px;border-bottom:1px solid #dfe6ec}.techNameStyle1[data-v-390481a8]{height:60px;line-height:60px;width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;margin:0 auto}.selfTd[data-v-390481a8]:last-child{border:none}.addorder-container[data-v-390481a8]{width:100%;float:left;background:#eef1f6}.fist-bar[data-v-390481a8]{padding:20px;background:#fff;margin-right:20px}.width120[data-v-390481a8]{width:120px}.paddingTop60[data-v-390481a8]{padding-top:60px}.marginRight15[data-v-390481a8]{margin-right:15px}.dispatchTechNameSearch[data-v-390481a8]{width:180px;margin-left:15px}.dispatchMangFooter[data-v-390481a8]{margin-top:20px;padding-bottom:0}.second-bar[data-v-390481a8]{padding-top:0;padding-bottom:20px;background:#eef1f6;margin-left:0;margin-right:0;height:500px}.addStyle[data-v-390481a8]{width:100%;background:#fff;padding:20px}.tableWarpaa .el-pagination[data-v-390481a8]{text-align:right}.techDialog .el-pagination[data-v-390481a8]{text-align:center;padding:0}.techDialog .dialog-footer[data-v-390481a8]{padding-bottom:50px}.tableWarpaa tr>td[data-v-390481a8]:first-child{padding:0 20px}.head-images[data-v-390481a8]{width:50px;height:50px;margin-top:5px}.addorder-container .pagination-container[data-v-390481a8]{padding:20px 0}.addorder-container .dialog-footer[data-v-390481a8]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.addorder-container .dialog-footer .button-cancel[data-v-390481a8]{margin-left:20px}.selfTableHEADTD[data-v-390481a8]{background:#eef1f6;height:60px;border:none!important}",""])},"3JoZ":function(e,t,a){"use strict";var i=a("FWz8");t.a={name:"dispatchmanage",data:function(){return{btnShow:JSON.parse(localStorage.getItem("btn")),techSaveFlag:!1,listTech:[],techName:"",middleA:[],tableData:[],technicianOptions:[{key:"1",technicianName:"技师姓名"},{key:"2",technicianName:"技师手机号"},{key:"3",technicianName:"订单编号"}],dialogTableVisible:!1,technicianName:"1",technicianName1:"",pagetotal1:null,pageSize1:10,pageNumber:1,jumpPage:1,aa:"",orderId:"",listLoading:!1,techName1:"",techName2:"",techPhone1:"",orderNumber1:""}},methods:{godispatchReass:function(e){window.localStorage.setItem("orderId1",e),this.$router.push({path:"/clean/dispatchReass/",query:{id:e}})},searchTeh:function(){var e=this,t={id:this.orderId,techName:this.techName2};a.i(i.j)(t).then(function(t){if(1===t.data.code)if(void 0!=t.data.data){e.listTech=t.data.data;for(var a=0;a<e.middleA.length;a++)for(var i=0;i<e.listTech.length;i++)e.listTech[i].techId==e.middleA[a].techId&&(e.listTech[i].techChecked=!0)}else e.listTech=[]}).catch(function(e){})},ChangeTech:function(e){if(e.techChecked)this.middleA.push(e);else for(var t=0;t<this.middleA.length;t++)this.middleA[t].techId==e.techId&&this.middleA.remove(this.middleA[t])},submitForm2:function(){var e=this;this.techSaveFlag=!0;var t=[];if(void 0!=this.middleA&&0!=this.middleA.length)for(var s=0;s<this.middleA.length;s++)1==this.middleA[s].techChecked&&t.push(this.middleA[s].techId);if(0!=t.length){var r={id:this.orderId,dispatchTechId:this.aa,techIdList:t};a.i(i.k)(r).then(function(t){if(e.techSaveFlag=!1,1===t.data.code){e.$message({type:"success",message:"改派成功!"}),"1"==e.technicianName?(e.techName1=e.techName,e.techPhone1="",e.orderNumber1=""):"2"==e.technicianName?(e.techPhone1=e.techName,e.orderNumber1="",e.techName1=""):"3"==e.technicianName?(e.orderNumber1=e.techName,e.techName1="",e.techPhone1=""):(e.techName1="",e.techPhone1="",e.orderNumber1="");var a={techName:e.techName1,techPhone:e.techPhone1,orderNumber:e.orderNumber1};e.reassList(a,e.pageNumber,e.pageSize1),e.middleA=[],e.listTech=[],e.dialogTableVisible=!1}}).catch(function(t){e.techSaveFlag=!1})}0==t.length&&(this.techSaveFlag=!1,this.dialogTableVisible=!1)},cancelForm2:function(){this.middleA=[],this.listTech=[],this.dialogTableVisible=!1},gaiPai:function(e,t){var s=this;this.techName2="",this.aa=t.techId,this.orderId=e;var r={id:e};a.i(i.j)(r).then(function(e){1===e.data.code&&(s.dialogTableVisible=!0,void 0!=e.data.data?s.listTech=e.data.data:s.listTech=[])}).catch(function(e){})},lookInf:function(e){window.localStorage.setItem("orderId",e),this.$router.push({path:"/clean/orderinfo",query:{id:e}})},reassList:function(e,t,s){var r=this;this.listLoading=!0;var n=e;a.i(i.l)(n,t,s).then(function(e){1===e.data.code?(r.pagetotal1=e.data.data.count,r.tableData=e.data.data.list,r.pageNumber=e.data.data.pageNo,r.jumpPage=e.data.data.pageNo,r.pageSize1=e.data.data.pageSize,r.listLoading=!1):r.listLoading=!1}).catch(function(e){r.listLoading=!1})},localSearch:function(){"1"==this.technicianName?(this.techName1=this.techName,this.techPhone1="",this.orderNumber1=""):"2"==this.technicianName?(this.techPhone1=this.techName,this.orderNumber1="",this.techName1=""):"3"==this.technicianName?(this.orderNumber1=this.techName,this.techName1="",this.techPhone1=""):(this.techName1="",this.techPhone1="",this.orderNumber1="");var e={techName:this.techName1,techPhone:this.techPhone1,orderNumber:this.orderNumber1};this.pageNumber=1,this.jumpPage=1,this.reassList(e,this.pageNumber,this.pageSize1)},handleSizeChange1:function(e){this.pageNumber=1,this.jumpPage=1,this.pageSize1=e,"1"==this.technicianName?(this.techName1=this.techName,this.techPhone1="",this.orderNumber1=""):"2"==this.technicianName?(this.techPhone1=this.techName,this.orderNumber1="",this.techName1=""):"3"==this.technicianName?(this.orderNumber1=this.techName,this.techName1="",this.techPhone1=""):(this.techName1="",this.techPhone1="",this.orderNumber1="");var t={techName:this.techName1,techPhone:this.techPhone1,orderNumber:this.orderNumber1};this.reassList(t,this.pageNumber,this.pageSize1)},handleCurrentChange1:function(e){this.pageNumber=e,"1"==this.technicianName?(this.techName1=this.techName,this.techPhone1="",this.orderNumber1=""):"2"==this.technicianName?(this.techPhone1=this.techName,this.orderNumber1="",this.techName1=""):"3"==this.technicianName?(this.orderNumber1=this.techName,this.techName1="",this.techPhone1=""):(this.techName1="",this.techPhone1="",this.orderNumber1="");var t={techName:this.techName1,techPhone:this.techPhone1,orderNumber:this.orderNumber1};this.reassList(t,this.pageNumber,this.pageSize1)}},mounted:function(){this.reassList({},1,10)}}},FWz8:function(e,t,a){"use strict";function i(e,t,a){return T.a.post("/apiservice/a/service/order/orderInfo/listData?pageNo="+t+"&pageSize="+a,e)}function s(e){return T.a.post("/apiservice/a/service/order/orderInfo/formData",e)}function r(e){return T.a.post("/apiservice/a/service/order/orderInfo/timeDataList",e)}function n(e){return T.a.post("/apiservice/a/service/order/orderInfo/saveTime",e)}function c(e){return T.a.post("/apiservice/a/service/order/orderInfo/addTech",e)}function o(e){return T.a.post("/apiservice/a/service/order/orderInfo/addTechSave",e)}function l(e){return T.a.post("/apiservice/a/service/order/orderInfo/dispatchTech",e)}function d(e){return T.a.post("/apiservice/a/service/order/orderInfo/dispatchTechSave",e)}function h(e,t,a){return T.a.post("apiservice/a/service/order/orderDispatch/listData?pageNo="+t+"&pageSize="+a,e)}function p(e){return T.a.post("apiservice/a/service/order/orderDispatch/formData",e)}function u(e){return T.a.post("apiservice/a/service/order/orderDispatch/dispatchTech",e)}function f(e){return T.a.post("/apiservice/a/service/order/orderDispatch/dispatchTechSave",e)}function m(e){return T.a.post("/apiservice/a/service/order/orderInfo/findCustomerByPhone",e)}function v(e){return T.a.post("/apiservice/a/service/order/orderInfo/findCustomerById",e)}function g(e){return T.a.post("/apiservice/a/service/order/orderInfo/findItemList",e)}function b(e){return T.a.post("/apiservice/a/service/order/orderInfo/findGoodsListByItem",e)}function N(e){return T.a.post("/apiservice/a/service/order/orderInfo/findTechListByGoods",e)}function _(e){return T.a.post("/apiservice/a/service/order/orderInfo/findTimeListByTech",e)}function x(e){return T.a.post("/apiservice/a/service/order/orderInfo/createOrder",e)}function S(e){return T.a.post("/apiservice/a/service/order/orderInfo/findGoodsNeedTech",e)}function C(e){return T.a.post("/apiservice/a/service/order/orderInfo/orderCancel",e)}t.a=i,t.b=s,t.i=r,t.c=n,t.d=c,t.f=o,t.e=l,t.g=d,t.l=h,t.m=p,t.j=u,t.k=f,t.p=m,t.r=v,t.q=g,t.s=b,t.t=N,t.o=_,t.u=x,t.n=S,t.h=C;var T=a("Vo7i")},Uq9H:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addorder-container"},[a("div",{staticClass:"filter-container bgWhite"},[a("el-input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入搜索内容"},model:{value:e.techName,callback:function(t){e.techName="string"==typeof t?t.trim():t},expression:"techName"}},[a("el-select",{staticClass:"width120",attrs:{clearable:"",placeholder:"请选择"},slot:"prepend",model:{value:e.technicianName,callback:function(t){e.technicianName=t},expression:"technicianName"}},e._l(e.technicianOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.technicianName,value:e.key}})}))],1),e._v(" "),a("button",{staticClass:"button-large btn_search",on:{click:e.localSearch}},[a("i",{staticClass:"el-icon-search"}),e._v(" 搜索")])],1),e._v(" "),a("div",{staticClass:"second-bar"},[a("div",{staticClass:"tableWarpaa addStyle"},[a("el-table",{staticClass:"dispatchTaleSelf",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",width:"170px",label:"订单编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"dispatchNumberStyle",on:{click:function(a){e.lookInf(t.row.id)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(t.row.orderNumber)+"\n\t\t\t\t\t\t\t\t")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"160px",label:"服务时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"dispatchNumberStyle1"},[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(t.row.serviceTime)+"\n\t\t\t\t\t\t\t\t")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.techList,function(t,i){return a("div",{key:i,staticClass:"selfTd"},[a("img",{staticClass:"head-images",attrs:{src:e.imgSrc+t.headPic+e.picWidth60,alt:""}})])})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.techList,function(t,i){return a("div",{key:i,staticClass:"selfTd"},[a("el-tooltip",{attrs:{placement:"left",disabled:t.techName.length<8,content:t.techName}},[a("div",{staticClass:"techNameStyle1"},[e._v(e._s(t.techName))])])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.techList,function(t,i){return a("div",{key:i,staticClass:"selfTd"},["male"==t.techSex?a("span",{staticClass:"fontSize12"},[e._v("男")]):e._e(),e._v(" "),"female"==t.techSex?a("span",{staticClass:"fontSize12"},[e._v("女")]):e._e()])})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"电话"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.techList,function(t,i){return a("div",{key:i,staticClass:"selfTd"},[e._v(e._s(t.techPhone))])})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"岗位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.techList,function(t,i){return a("div",{key:i,staticClass:"selfTd"},["part_time"==t.jobNature?a("span",{staticClass:"fontSize12"},[e._v("兼职")]):e._e(),e._v(" "),"full_time"==t.jobNature?a("span",{staticClass:"fontSize12"},[e._v("全职")]):e._e()])})}}])}),e._v(" "),a("el-table-column",{staticClass:"aa",attrs:{label:"操作",align:"center"}},[a("el-table-column",{ref:"selfcolumn",attrs:{align:"center",label:"",colspan:2},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.techList,function(i){return a("div",{key:i.name,staticClass:"selfTd"},[e.btnShow.indexOf("dispatch_insert")>=0?a("el-button",{staticClass:"ceshi3",attrs:{type:"button"},on:{click:function(a){e.gaiPai(t.row.id,i)}}},[e._v("改派")]):e._e()],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e.btnShow.indexOf("dispatch_info")>=0?a("el-button",{staticClass:"ceshi3",attrs:{type:"button"},on:{click:function(a){e.godispatchReass(t.row.id)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t改派记录\n\t\t\t\t\t\t\t\t\t\t")]):e._e()],1)]}}])})],1)],1),e._v(" "),e.listLoading?e._e():a("div",{staticClass:"dispatchMangFooter"},[a("el-pagination",{attrs:{"current-page":e.jumpPage,"page-sizes":[5,10,15,20],"page-size":e.pageSize1,layout:"total, sizes, prev, pager, next, jumper",total:e.pagetotal1},on:{"size-change":e.handleSizeChange1,"current-change":e.handleCurrentChange1,"update:currentPage":function(t){e.jumpPage=t}}})],1)],1)]),e._v(" "),a("el-dialog",{staticClass:"selfDialogWidth",attrs:{title:"选择技师",visible:e.dialogTableVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-input",{staticClass:"dispatchTechNameSearch",attrs:{placeholder:"输入要搜索的姓名"},model:{value:e.techName2,callback:function(t){e.techName2=t},expression:"techName2"}}),e._v(" "),a("button",{staticClass:"button-large FloatRight marginRight15",on:{click:e.searchTeh}},[e._v("查询")]),e._v(" "),a("el-collapse-transition",[0!=e.middleA.length?a("div",{staticClass:"selfpromMessageTab"},e._l(e.middleA,function(t){return a("div",{key:t.techId,staticClass:"tabWrap1"},[a("div",{staticClass:"techNameStyle"},[e._v(e._s(t.techName))])])})):e._e()]),e._v(" "),a("div",{staticClass:"selfTableWrapONE"},[a("div",{staticClass:"table-d"},[a("table",{staticClass:"selfTable"},[a("tr",{staticClass:"tableHeader"},[a("td",{staticClass:"selfTableHEADTD",attrs:{align:"center",width:"73px"}},[e._v("选择")]),e._v(" "),a("td",{staticClass:"selfTableHEADTD",attrs:{align:"center",width:"158px"}},[e._v("头像")]),e._v(" "),a("td",{staticClass:"selfTableHEADTD",attrs:{align:"center",width:"182px"}},[e._v("姓名")]),e._v(" "),a("td",{staticClass:"selfTableHEADTD",attrs:{align:"center",width:"73px"}},[e._v("性别")]),e._v(" "),a("td",{staticClass:"selfTableHEADTD",attrs:{align:"center",width:"141px"}},[e._v("岗位性质")])]),e._v(" "),a("div",{staticClass:"paddingTop60"},e._l(e.listTech,function(t){return a("tr",{key:t.techId,ref:"tableItem1",refInFor:!0,staticClass:"selfTdStyle1"},[a("td",{staticClass:"fontSize12",attrs:{width:"72px",align:"center"}},[a("el-checkbox",{on:{change:function(a){e.ChangeTech(t)}},model:{value:t.techChecked,callback:function(e){t.techChecked=e},expression:"item.techChecked"}})],1),e._v(" "),a("td",{staticClass:"height70",attrs:{width:"156px",align:"center"}},[a("img",{staticClass:"imgStyle",attrs:{src:e.imgSrc+t.headPic+e.picWidth60}})]),e._v(" "),a("td",{staticClass:"fontSize12",attrs:{width:"172px",align:"center"}},[a("div",{staticClass:"selftechNameStyle"},[e._v(e._s(t.techName))])]),e._v(" "),a("td",{staticClass:"fontSize12",attrs:{width:"72px",align:"center"}},["male"==t.techSex?a("span",{staticClass:"fontSize12"},[e._v("男")]):e._e(),e._v(" "),"female"==t.techSex?a("span",{staticClass:"fontSize12"},[e._v("女")]):e._e()]),e._v(" "),a("td",{staticClass:"fontSize12",attrs:{width:"140px",align:"center"}},["part_time"==t.jobNature?a("span",{staticClass:"fontSize12"},[e._v("兼职")]):e._e(),e._v(" "),"full_time"==t.jobNature?a("span",{staticClass:"fontSize12"},[e._v("全职")]):e._e()])])}))]),e._v(" "),0==e.listTech.length||void 0==e.listTech.length?a("div",{staticClass:"selfTabProm"},[e._v("暂无数据")]):e._e()])]),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},slot:"footer"},[a("button",{staticClass:"button-large",attrs:{disabled:e.techSaveFlag},on:{click:function(t){e.submitForm2()}}},[e._v("保存")]),e._v(" "),a("button",{staticClass:"button-cancel",on:{click:function(t){e.cancelForm2()}}},[e._v("取 消")])])],1)],1)},s=[],r={render:i,staticRenderFns:s};t.a=r},VHhy:function(e,t,a){"use strict";function i(e){a("Y4X1")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("3JoZ"),r=a("Uq9H"),n=a("J0+h"),c=i,o=n(s.a,r.a,c,"data-v-390481a8",null);t.default=o.exports},Y4X1:function(e,t,a){var i=a("3Idk");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("XkoO")("58d239cd",i,!0)}});