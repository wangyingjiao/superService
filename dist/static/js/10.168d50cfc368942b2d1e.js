webpackJsonp([10],{"9Iz4":function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".addorder-container[data-v-7ae7cb28]{width:100%;float:left;background:#eef1f6;margin-top:20px}.fist-bar[data-v-7ae7cb28]{padding-top:20px;padding-bottom:20px;background:#fff;margin-right:20px}.second-bar[data-v-7ae7cb28]{padding-top:20px;padding-bottom:20px;background:#eef1f6;margin-left:20px;margin-right:20px}.mapWrap[data-v-7ae7cb28]{width:0;height:0;display:block}.pickerInput[data-v-7ae7cb28]{width:200px;height:36px;font-size:12px;padding:0 10px;border:none;border:1px solid #bfcbd9;outline:none}.pickerInput[data-v-7ae7cb28]:hover{border-color:#8391a5}.amap-ui-poi-picker-sugg[data-v-7ae7cb28]{width:180px;overflow:hidden}.amap-ui-poi-picker-sugg-list[data-v-7ae7cb28]{width:180px}.sugg-item[data-v-7ae7cb28]{width:180px!important}","",{version:3,sources:["D:/demo/backendservice/src/views/customer/customermanage.vue"],names:[],mappings:"AACA,qCACE,WAAY,AACZ,WAAY,AACZ,mBAAoB,AACpB,eAAiB,CAClB,AACD,2BACE,iBAAkB,AAClB,oBAAqB,AACrB,gBAAiB,AACjB,iBAAmB,CACpB,AACD,6BACE,iBAAkB,AAClB,oBAAqB,AACrB,mBAAoB,AACpB,iBAAkB,AAClB,iBAAmB,CACpB,AACD,0BACE,QAAW,AACX,SAAY,AACZ,aAAe,CAChB,AACD,8BACE,YAAa,AACb,YAAa,AACb,eAAgB,AAChB,eAAgB,AAChB,YAAa,AACb,yBAA0B,AAC1B,YAAc,CACf,AACD,oCACE,oBAAsB,CACvB,AACD,0CACE,YAAa,AACb,eAAiB,CAClB,AACD,+CACE,WAAa,CACd,AACD,4BACE,qBAAwB,CACzB",file:"customermanage.vue",sourcesContent:["\n.addorder-container[data-v-7ae7cb28] {\n  width: 100%;\n  float: left;\n  background: #eef1f6;\n  margin-top: 20px;\n}\n.fist-bar[data-v-7ae7cb28] {\n  padding-top: 20px;\n  padding-bottom: 20px;\n  background: #fff;\n  margin-right: 20px;\n}\n.second-bar[data-v-7ae7cb28] {\n  padding-top: 20px;\n  padding-bottom: 20px;\n  background: #eef1f6;\n  margin-left: 20px;\n  margin-right: 20px;\n}\n.mapWrap[data-v-7ae7cb28] {\n  width: 0px;\n  height: 0px;\n  display: block;\n}\n.pickerInput[data-v-7ae7cb28] {\n  width: 200px;\n  height: 36px;\n  font-size: 12px;\n  padding: 0 10px;\n  border: none;\n  border: 1px solid #bfcbd9;\n  outline: none;\n}\n.pickerInput[data-v-7ae7cb28]:hover {\n  border-color: #8391a5;\n}\n.amap-ui-poi-picker-sugg[data-v-7ae7cb28] {\n  width: 180px;\n  overflow: hidden;\n}\n.amap-ui-poi-picker-sugg-list[data-v-7ae7cb28] {\n  width: 180px;\n}\n.sugg-item[data-v-7ae7cb28] {\n  width: 180px !important;\n}\n"],sourceRoot:""}])},Dod7:function(t,e,a){"use strict";function i(){return h.get("/api/a/sys/office/listData")}function o(t,e,a){return h.post("/api/a/sys/office/pageData?pageNo="+e+"&pageSize="+a,t)}function n(t){return h.post("/api/a/sys/office/saveData",t)}function r(){return h.get("/api/a/sys/dict/listData?type=service_area_type")}function s(t){return h.get("/api/a/sys/area/getchildArea?id="+t)}function c(){return h.post("/api/a/sys/area/treeArea")}function l(t){return h.post("/api/a/service/station/serviceStation/listData",t)}function u(){return h.post("/api/a")}function p(){return h.post("/api/a")}function d(t){return h.post("/api/a/sys/user/listData?pageSize=-1",t)}function m(){return h.post("/api/a/sys/dict/listData?type=service_station_type")}e.b=i,e.j=o,e.k=n,e.h=r,e.a=s,e.i=c,e.d=l,e.g=u,e.f=p,e.e=d,e.c=m;var f=a("mtWM"),g=a.n(f),h=g.a.create({headers:{"content-type":"application/json;charset=UTF-8"}})},O7ik:function(t,e,a){var i=a("9Iz4");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("4c986195",i,!0)},k6Ho:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addorder-container"},[a("div",{staticClass:"fist-bar"},[a("el-input",{staticStyle:{width:"200px","margin-left":"20px"},attrs:{placeholder:"请输入搜索的手机号"},model:{value:t.customPhone,callback:function(e){t.customPhone=e},expression:"customPhone"}}),t._v(" "),a("el-input",{staticStyle:{width:"200px","margin-left":"20px"},attrs:{placeholder:"请输入搜索的姓名"},model:{value:t.customName,callback:function(e){t.customName=e},expression:"customName"}}),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"30px"},attrs:{clearable:"",placeholder:"请选择服务机构"},model:{value:t.organizationName,callback:function(e){t.organizationName=e},expression:"organizationName"}},t._l(t.organizationOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("button",{staticClass:"search-button",staticStyle:{float:"right","margin-right":"20px"},on:{click:t.localSearch}},[a("i",{staticClass:"el-icon-search"}),t._v(" 搜索")])],1),t._v(" "),a("div",{staticClass:"second-bar"},[a("button",{staticClass:"add-button",staticStyle:{float:"right","margin-right":"20px","margin-top":"10px","margin-bottom":"20px"},attrs:{type:"button"},on:{click:t.selectBut}},[t._v("新        增")]),t._v(" "),a("div",{staticClass:"tableWarp",staticStyle:{width:"100%",background:"#fff",padding:"20px 20px 60px 20px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"light",stripe:""}},[a("el-table-column",{attrs:{align:"center",label:"编号",type:"index",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customName",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customPhone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customSex",label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.customSex?a("span",[t._v("男")]):t._e(),t._v(" "),"2"==e.row.customSex?a("span",[t._v("女")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"officeName",label:"服务机构"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"180px"},attrs:{align:"center",prop:"customAddr",label:"地址","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"button"},on:{click:function(a){t.lookInf(e.row)}}},[t._v("下单")]),t._v(" "),a("el-button",{attrs:{type:"button"},on:{click:function(a){t.Delete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px",float:"right"}},[a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":t.pageSize1,layout:"total, sizes, prev, pager, next, jumper",total:t.pagetotal1},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"新增客户",visible:t.dialogTableVisible,"show-close":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"130px","label-position":"left"}},[a("el-form-item",{attrs:{label:"姓名:",prop:"customName"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入客户姓名"},model:{value:t.ruleForm.customName,callback:function(e){t.ruleForm.customName=e},expression:"ruleForm.customName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"性别:",prop:"customSex"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{clearable:"",placeholder:"请选择性别"},model:{value:t.ruleForm.customSex,callback:function(e){t.ruleForm.customSex=e},expression:"ruleForm.customSex"}},t._l(t.sex,function(t){return a("el-option",{key:t.key,attrs:{label:t.sexName,value:t.key}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号:",prop:"customPhone"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入11位手机号"},model:{value:t.ruleForm.customPhone,callback:function(e){t.ruleForm.customPhone=e},expression:"ruleForm.customPhone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所在区域:",prop:"cusTownId"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请选择省"},on:{change:t.provinceChange},model:{value:t.ruleForm.cusProvId,callback:function(e){t.ruleForm.cusProvId=e},expression:"ruleForm.cusProvId"}},t._l(t.provinceOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请选择市"},on:{change:t.cityChange},model:{value:t.ruleForm.cusCityId,callback:function(e){t.ruleForm.cusCityId=e},expression:"ruleForm.cusCityId"}},t._l(t.cityOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请选择县区"},model:{value:t.ruleForm.cusTownId,callback:function(e){t.ruleForm.cusTownId=e},expression:"ruleForm.cusTownId"}},t._l(t.countyOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"详细地址:",prop:"customAddr"}},[a("input",{ref:"pickerInput",staticClass:"pickerInput",attrs:{value:"",placeholder:"输入关键字选取地点"}}),t._v(" "),a("input",{ref:"pickerInput1",staticClass:"pickerInput",attrs:{type:"hidden",value:"",placeholder:"输入关键字选取地点"}}),t._v(" "),a("el-input",{staticStyle:{"margin-left":"-5px",width:"200px"},attrs:{placeholder:"输入详细地址"},model:{value:t.ruleForm.customAddr,callback:function(e){t.ruleForm.customAddr=e},expression:"ruleForm.customAddr"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"邮箱:",prop:"customEmail"}},[a("el-input",{staticStyle:{"margin-left":"-10px",width:"400px"},attrs:{placeholder:"请输入常用邮箱"},model:{value:t.ruleForm.customEmail,callback:function(e){t.ruleForm.customEmail=e},expression:"ruleForm.customEmail"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},slot:"footer"},[a("button",{staticClass:"button-large",on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("确 定")]),t._v(" "),a("button",{staticClass:"button-cancel",on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("取 消")])])],1),t._v(" "),a("div",{staticStyle:{float:"left","margin-top":"100px",background:"red"}},[a("div",{ref:"gdMap",staticClass:"mapWrap"})])],1)},o=[],n={render:i,staticRenderFns:o};e.a=n},mMlH:function(t,e,a){"use strict";function i(t,e,a){return c.post("/api/a/service/order/orderCustomInfo/listData?pageNo="+e+"&pageSize="+a,t)}function o(t){return c.post("/api/a/service/order/orderCustomInfo/deleteSortInfo",t)}function n(t){return c.post("/api/a/service/order/orderCustomInfo/saveData",t)}e.c=i,e.b=o,e.a=n;var r=a("mtWM"),s=a.n(r),c=s.a.create({headers:{"content-type":"application/json;charset=UTF-8"}})},vayR:function(t,e,a){"use strict";function i(t){a("O7ik")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("yWyw"),n=a("k6Ho"),r=a("VU/8"),s=i,c=r(o.a,n.a,s,"data-v-7ae7cb28",null);e.default=c.exports},yWyw:function(t,e,a){"use strict";var i=a("mMlH"),o=a("Dod7");e.a={name:"",data:function(){return{testvalue:"",listLoading:!0,ruleForm:{customName:"",customPhone:"",customAddr:"",customEmail:"",customSex:"",cusProvId:"",cusCityId:"",cusTownId:"",customArea:"",addrLongitude:"",addrLatitude:""},rules:{customName:[{required:!0,message:"请输入客户姓名",trigger:"blur"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"}],customPhone:[{required:!0,validator:function(t,e,a){if(!e)return a(new Error("电话号码不能为空"));/^1[3|4|5|8][0-9]\d{8}$/.test(e)?a():a(new Error("手机号码必须为11位数字！"))},trigger:"blur"}],customAddr:[{required:!0,message:"详细地址不能为空",trigger:"blur"}],customEmail:[{required:!1,validator:function(t,e,a){e?/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)?a():a(new Error("请输入正确的邮箱")):a()},trigger:"blur"}],customSex:[{required:!0,message:"请选择性别",trigger:"change"}],cusTownId:[{required:!0,message:"请选择区域",trigger:"change"}]},sex:[{key:"1",sexName:"男"},{key:"2",sexName:"女"}],sexName:"",provinceOptions:[],cityOptions:[],countyOptions:[],tableData:[],organizationOptions:[],organizationName:"",dialogTableVisible:!1,customName:"",customPhone:"",pagetotal1:1,pageSize1:10,pageNumber:1}},methods:{provinceChange:function(t){var e=this;this.ruleForm.cusCityId="",a.i(o.a)(t).then(function(t){e.cityOptions=t.data.data}).catch(function(t){})},cityChange:function(t){var e=this;this.ruleForm.cusTownId="",a.i(o.a)(t).then(function(t){e.countyOptions=t.data.data}).catch(function(t){})},customSexselect:function(){this.ruleForm.customSex=this.sex},submitForm:function(t){var e=this;if(""!=this.$refs.pickerInput.value){this.ruleForm.customArea=this.$refs.pickerInput.value;var o=this.$refs.pickerInput1.value;o=o.split(",");var n=o[0];this.ruleForm.addrLongitude=n;var r=o[1];this.ruleForm.addrLatitude=r}this.$refs[t].validate(function(t){if(!t)return!1;var o=e.ruleForm;a.i(i.a)(o).then(function(t){1===t.data.code?(e.$message({type:"success",message:"新增成功!"}),e.$refs.ruleForm.resetFields(),e.dialogTableVisible=!1,e.getData()):e.$message({type:"warning",message:"新增失败"})}).catch(function(t){})})},resetForm:function(t){this.$refs[t].resetFields(),this.ruleForm.customSex="",this.ruleForm.cusProvId="",this.ruleForm.cusCityId="",this.sexName="",this.dialogTableVisible=!1},localSearch:function(){var t={customName:this.customName,customPhone:this.customPhone,officeId:this.organizationName};this.getData(t,this.pageNumber,this.pageSize1)},handleSizeChange1:function(t){this.pageSize1=t;var e={customName:this.customName,customPhone:this.customPhone,officeId:this.organizationName};this.getData(e,this.pageNumber,this.pageSize1)},handleCurrentChange1:function(t){this.pageNumber=t;var e={customName:this.customName,customPhone:this.customPhone,officeId:this.organizationName};this.getData(e,this.pageNumber,this.pageSize1)},selectBut:function(){var t=this;this.dialogTableVisible=!0,this.ruleForm.customSex="",this.ruleForm.cusProvId="",this.ruleForm.cusCityId="",this.sexName="";a.i(o.a)("").then(function(e){t.provinceOptions=e.data.data}).catch(function(t){}),this.$nextTick(function(){t.test()})},lookInf:function(t){var e=t.id;this.$router.push({path:"/clean/addorder",query:{coustomerId:e}})},Delete:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var o={id:t.id};a.i(i.b)(o).then(function(t){if(1===t.data.code){e.$message({type:"success",message:"删除成功!"});var a={};e.getData(a,e.pageNumber,e.pageSize1)}else e.$message({type:"warning",message:"删除失败"})}).catch(function(){return console.log("未知错误")})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getData:function(t,e,o){var n=this;this.listLoading=!0;var r=t;a.i(i.c)(r,e,o).then(function(t){n.tableData=t.data.data.list,n.listLoading=!1,n.pagetotal1=t.data.data.count}).catch(function(t){n.listLoading=!1})},getorgin:function(){var t=this;a.i(o.b)().then(function(e){t.organizationOptions=e.data.data}).catch(function(t){})},test:function(){function t(t){window.poiPicker=t;new AMap.Marker,new AMap.InfoWindow({offset:new AMap.Pixel(0,-20)});t.on("poiPicked",function(t){var i=t.source,o=t.item,n={source:i,id:o.id,name:o.name,location:o.location.toString(),address:o.address};e.value=n.name,a.value=n.location})}var e=this.$refs.pickerInput,a=this.$refs.pickerInput1;AMapUI.loadUI(["misc/PoiPicker"],function(a){t(new a({city:"北京",input:e}))})},initMap1:function(){var t=this.$refs.gdMap;new AMap.Map(t,{zoom:10})}},mounted:function(){this.initMap1(),this.getData(),this.customSexselect(),this.getorgin()}}}});
//# sourceMappingURL=10.168d50cfc368942b2d1e.js.map