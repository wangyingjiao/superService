webpackJsonp([19],{"2rLn":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".flip-container[data-v-a5354ebc]{-webkit-perspective:1000;perspective:1000}.flip-container.hover1 .flipper[data-v-a5354ebc],.flip-container:hover .flipper[data-v-a5354ebc]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.back[data-v-a5354ebc],.flip-container[data-v-a5354ebc],.front[data-v-a5354ebc]{overflow:hidden;width:50px;height:50px}.back img[data-v-a5354ebc],.front img[data-v-a5354ebc]{width:100%}.flipper[data-v-a5354ebc]{transition:.6s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;position:relative}.back[data-v-a5354ebc],.front[data-v-a5354ebc]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.front[data-v-a5354ebc]{z-index:2}.back[data-v-a5354ebc]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}",""])},"7ted":function(e,t,a){var n=a("2rLn");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("72f89ba9",n,!0)},"F+99":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addorder-container"},[a("el-upload",{ref:"upload",attrs:{action:"http://openservice.oss-cn-beijing.aliyuncs.com","list-type":"picture-card","on-change":e.handPic,"on-remove":e.handleRemovePic,"auto-upload":!1,"http-request":function(t){return e.picUpload(t)}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("button",{on:{click:e.open}},[e._v("上传")])],1)},i=[],o={render:n,staticRenderFns:i};t.a=o},Vc3t:function(e,t,a){"use strict";function n(){var e={};return c.a.get("sign")?e=JSON.parse(c.a.get("sign")):r.a.get("/apiservice/oss/getSign").then(function(t){console.log(t.data,"签名");var a=t.data;c.a.set("sign",o()(a)),e=JSON.parse(c.a.get("sign"))}),e}t.a=n;var i=a("mvHQ"),o=a.n(i),r=a("Vo7i"),s=a("lbHh"),c=a.n(s)},b6LW:function(e,t,a){"use strict";function n(e){a("7ted")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ii9V"),o=a("F+99"),r=a("VU/8"),s=n,c=r(i.a,o.a,s,"data-v-a5354ebc",null);t.default=c.exports},ii9V:function(e,t,a){"use strict";var n=a("mvHQ"),i=a.n(n),o=a("//Fk"),r=a.n(o),s=a("lbHh"),c=a.n(s),p=a("Vc3t");t.a={data:function(){return{testvalue:"yes",value:"ddeeeeeeeeeeeee月月儿科可",picList:[],testArr:[],dialogVisible:!1,dialogImageUrl:"",picFile:[]}},methods:{open:function(){this.$refs.upload.submit()},handPic:function(e,t){if(console.log(e.raw.type,"file.type------"),"image/gif"!=e.raw.type&&"image/jpg"!=e.raw.type&&"image/png"!=e.raw.type&&"image/jpeg"!=e.raw.type)return t.splice(t.indexOf(e),1),this.$message.error("请上传正确的图片格式"),!1;var a=new Date,n=a.getFullYear(),i=a.getMonth()+1,o=a.getDate();this.sign.dir,e.name;t.length>4&&(this.$message({type:"warning",message:"最多上传4张图片"}),t.splice(t.indexOf(e),1))},handleRemovePic:function(e,t){t.splice(t.indexOf(e),0)},picUpload:function(e){var t=this;console.log(e.file.uid);var a=this;new r.a(function(e,a){console.log(JSON.parse(c.a.get("sign")),"测试1111");var n=JSON.parse(c.a.get("sign")),o=Date.parse(new Date)/1e3;n.expire-3>o?(console.log("签名没过期"),e(n)):t.$http.get("/apiservice/oss/getSign").then(function(t){console.log(t,"签名过期"),c.a.set("sign",i()(t.data)),e(t.data)})}).then(function(n){var i=n,o=new FormData,r=new Date,s=(r.getTime(),r.getFullYear()),c=r.getMonth()+1,p=r.getDate();o.append("name",e.file.name),o.append("key",i.dir+"/"+s+"/"+c+"/"+p+"/"+e.file.uid+".jpg"),o.append("policy",i.policy),o.append("OSSAccessKeyId",i.accessid),o.append("success_action_status",201),o.append("signature",i.signature),o.append("file",e.file,e.file.name),a.$http.post(i.host,o,{headers:{"Content-Type":"multipart/form-data; boundary={boundary}"}}).then(function(e){t.testArr.push(o.get("key")),console.log(t.testArr,"this.testArr------"),console.log("aaaaa")}).catch(function(e){console.log("错误-------------上传图片失败--"),console.log(e,"错误")})})}},computed:{sign:function(){return a.i(p.a)()}},mounted:function(){}}}});